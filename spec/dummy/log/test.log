  [1m[36m (10.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.6ms)[0m  select sqlite_version(*)
  [1m[36m (10.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to SpreeOneTwo (20180305093738)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_activators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar, "expires_at" datetime, "starts_at" datetime, "name" varchar, "event_name" varchar, "type" varchar, "usage_limit" integer, "match_policy" varchar DEFAULT 'all', "code" varchar, "advertise" boolean DEFAULT 'f', "path" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "address1" varchar, "address2" varchar, "city" varchar, "zipcode" varchar, "phone" varchar, "state_name" varchar, "alternative_phone" varchar, "company" varchar, "state_id" integer, "country_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_addresses_on_firstname" ON "spree_addresses" ("firstname")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_firstname' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_firstname' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_addresses_on_lastname" ON "spree_addresses" ("lastname")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "originator_id" integer, "originator_type" varchar, "amount" decimal(8,2), "label" varchar, "mandatory" boolean, "locked" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_assets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "viewable_id" integer, "viewable_type" varchar, "attachment_width" integer, "attachment_height" integer, "attachment_file_size" integer, "position" integer, "attachment_content_type" varchar, "attachment_file_name" varchar, "type" varchar(75), "attachment_updated_at" datetime, "alt" text) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_assets_on_viewable_id" ON "spree_assets" ("viewable_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_assets_on_viewable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_assets_on_viewable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_assets_on_viewable_type_and_type" ON "spree_assets" ("viewable_type", "type")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_calculators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "calculable_id" integer, "calculable_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "type" varchar(50), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_configurations_on_name_and_type" ON "spree_configurations" ("name", "type")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "iso_name" varchar, "iso" varchar, "iso3" varchar, "name" varchar, "numcode" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "first_name" varchar, "last_name" varchar, "start_month" varchar, "start_year" varchar, "issue_number" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_gateways" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "name" varchar, "description" text, "active" boolean DEFAULT 't', "environment" varchar DEFAULT 'development', "server" varchar DEFAULT 'test', "test_mode" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lock_version" integer DEFAULT 0, "state" varchar, "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_inventory_units_on_order_id" ON "spree_inventory_units" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_inventory_units_on_shipment_id" ON "spree_inventory_units" ("shipment_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_inventory_units_on_variant_id" ON "spree_inventory_units" ("variant_id")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_log_entries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "details" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_mail_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "environment" varchar, "active" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_option_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100), "presentation" varchar(100), "position" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_option_types_prototypes" ("prototype_id" integer, "option_type_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_option_values" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "position" integer, "name" varchar, "presentation" varchar, "option_type_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_option_values_variants" ("variant_id" integer, "option_value_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_option_values_variants_on_variant_id_and_option_value_id" ON "spree_option_values_variants" ("variant_id", "option_value_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_option_values_variants_on_variant_id" ON "spree_option_values_variants" ("variant_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT 0.0 NOT NULL, "state" varchar, "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "name" varchar, "description" text, "active" boolean DEFAULT 't', "environment" varchar DEFAULT 'development', "deleted_at" datetime, "display_on" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar, "payment_method_id" integer, "state" varchar, "response_code" varchar, "avs_response" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100), "owner_id" integer, "owner_type" varchar, "value" text, "key" varchar, "value_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_product_option_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "position" integer, "product_id" integer, "option_type_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_product_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar, "product_id" integer, "property_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_product_properties_on_product_id" ON "spree_product_properties" ("product_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" varchar, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_on_name" ON "spree_products" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_products_taxons" ("product_id" integer, "taxon_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_taxons_on_product_id" ON "spree_products_taxons" ("product_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_taxons_on_taxon_id" ON "spree_products_taxons" ("taxon_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "presentation" varchar NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_properties_prototypes" ("prototype_id" integer, "property_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_prototypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "state" varchar, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_roles_users" ("role_id" integer, "user_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_roles_users_on_role_id" ON "spree_roles_users" ("role_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_roles_users_on_user_id" ON "spree_roles_users" ("user_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "shipping_method_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_shipments_on_number" ON "spree_shipments" ("number")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_shipping_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "zone_id" integer, "display_on" varchar, "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_state_changes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "previous_state" varchar, "stateful_id" integer, "user_id" integer, "stateful_type" varchar, "next_state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "abbr" varchar, "country_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_tax_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "is_default" boolean DEFAULT 'f', "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_tax_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(8,5), "zone_id" integer, "tax_category_id" integer, "included_in_price" boolean DEFAULT 'f', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_taxonomies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_taxons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "parent_id" integer, "position" integer DEFAULT 0, "name" varchar NOT NULL, "permalink" varchar, "taxonomy_id" integer, "lft" integer, "rgt" integer, "icon_file_name" varchar, "icon_content_type" varchar, "icon_file_size" integer, "icon_updated_at" datetime, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_taxons_on_parent_id" ON "spree_taxons" ("parent_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_taxons_on_permalink" ON "spree_taxons" ("permalink")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_parent_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_taxons_on_taxonomy_id" ON "spree_taxons" ("taxonomy_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_tokenized_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "permissable_id" integer, "permissable_type" varchar, "token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_tokenized_name_and_type" ON "spree_tokenized_permissions" ("permissable_id", "permissable_type")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_trackers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "environment" varchar, "analytics_id" varchar, "active" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar, "remember_token" varchar, "persistence_token" varchar, "reset_password_token" varchar, "perishable_token" varchar, "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "login" varchar, "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar, "unlock_token" varchar, "locked_at" datetime, "remember_created_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "cost_price" decimal(8,2), "position" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_zone_members" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "zoneable_id" integer, "zoneable_type" varchar, "zone_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_zones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "default_tax" boolean DEFAULT 'f', "zone_members_count" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093738"]]
  [1m[36m (11.7ms)[0m  [1mcommit transaction[0m
Migrating to SpreePromoOneTwo (20180305093739)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_products_promotion_rules" ("product_id" integer, "promotion_rule_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_products_promotion_rules_on_product_id" ON "spree_products_promotion_rules" ("product_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_products_promotion_rules_on_promotion_rule_id" ON "spree_products_promotion_rules" ("promotion_rule_id")
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_promotion_action_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "promotion_action_id" integer, "variant_id" integer, "quantity" integer DEFAULT 1) [0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_promotion_actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "activator_id" integer, "position" integer, "type" varchar) 
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "activator_id" integer, "user_id" integer, "product_group_id" integer, "type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_promotion_rules_on_product_group_id" ON "spree_promotion_rules" ("product_group_id")
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "index_promotion_rules_on_user_id" ON "spree_promotion_rules" ("user_id")
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_promotion_rules_users" ("user_id" integer, "promotion_rule_id" integer) [0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "index_promotion_rules_users_on_promotion_rule_id" ON "spree_promotion_rules_users" ("promotion_rule_id")
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_promotion_rules_users_on_user_id" ON "spree_promotion_rules_users" ("user_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093739"]]
  [1m[35m (10.6ms)[0m  commit transaction
Migrating to AddTaxRateLabel (20180305093740)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_tax_rates" ADD "name" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093740"]]
  [1m[35m (8.4ms)[0m  commit transaction
Migrating to AddToggleTaxRateDisplay (20180305093741)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_tax_rates" ADD "show_rate_in_label" boolean DEFAULT 't'
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093741"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to RemoveUnusedPreferenceColumns (20180305093742)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TEMPORARY TABLE "aspree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100), "owner_id" integer, "owner_type" varchar, "value" text, "key" varchar, "value_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_preferences_on_key' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "tindex_aspree_preferences_on_key" ON "aspree_preferences" ("key")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_preferences"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_preferences"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar, "value" text, "key" varchar, "value_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_preferences_on_key' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_preferences"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_preferences"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aspree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar, "value" text, "key" varchar, "value_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_preferences_on_key' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "tindex_aspree_preferences_on_key" ON "aspree_preferences" ("key")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_preferences"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_preferences"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar, "value" text, "key" varchar, "value_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_preferences_on_key' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_preferences"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_preferences"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aspree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar, "value" text, "key" varchar, "value_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_preferences_on_key' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "tindex_aspree_preferences_on_key" ON "aspree_preferences" ("key")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_preferences"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_preferences"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" text, "key" varchar, "value_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_preferences_on_key' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_preferences"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_preferences"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093742"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
Migrating to AddLockVersionToVariant (20180305093743)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_variants" ADD "lock_version" integer DEFAULT 0[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093743"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to AddStatesRequiredToCountries (20180305093744)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_countries" ADD "states_required" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093744"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Migrating to AddOnDemandToProductAndVariant (20180305093745)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_products" ADD "on_demand" boolean DEFAULT 'f'[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_variants" ADD "on_demand" boolean DEFAULT 'f'
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093745"]]
  [1m[35m (7.5ms)[0m  commit transaction
Migrating to RemoveNotNullConstraintFromProductsOnHand (20180305093746)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" varchar, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "on_demand" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("permalink")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_products"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_products"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" varchar, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_products_on_name" ON "spree_products" ("name")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_products"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_products"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "spree_variants"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_variants"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_variants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093746"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to SplitPricesFromVariants (20180305093747)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(8,2) NOT NULL, "currency" varchar) [0m
  [1m[35mSpree::Variant Load (0.2ms)[0m  SELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_variants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093747"]]
  [1m[35m (9.9ms)[0m  commit transaction
Migrating to RemoveNotNullFromSpreePricesAmount (20180305093748)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(8,2) NOT NULL, "currency" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_prices"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_prices"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(8,2), "currency" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_prices"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_prices"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093748"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to AddCurrencyToLineItems (20180305093749)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_line_items" ADD "currency" varchar[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093749"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
Migrating to AddCurrencyToOrders (20180305093750)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_orders" ADD "currency" varchar[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093750"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Migrating to AddCostCurrencyToVariants (20180305093751)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_variants" ADD "cost_currency" varchar[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093751"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Migrating to RemoveDisplayOnFromPaymentMethods (20180305093752)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "name" varchar, "description" text, "active" boolean DEFAULT 't', "environment" varchar DEFAULT 'development', "deleted_at" datetime, "display_on" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_payment_methods"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_payment_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "name" varchar, "description" text, "active" boolean DEFAULT 't', "environment" varchar DEFAULT 'development', "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_payment_methods"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_payment_methods"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093752"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to AddPositionToTaxonomies (20180305093753)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_taxonomies" ADD "position" integer DEFAULT 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093753"]]
  [1m[35m (8.2ms)[0m  commit transaction
Migrating to AddLastIpToSpreeOrders (20180305093754)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ADD "last_ip_address" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093754"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to AddStateToSpreeAdjustments (20180305093755)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_adjustments" ADD "state" varchar
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "originator_id" integer, "originator_type" varchar, "amount" decimal(8,2), "label" varchar, "mandatory" boolean, "locked" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_adjustments_on_order_id" ON "aspree_adjustments" ("adjustable_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_adjustments"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_adjustments"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "originator_id" integer, "originator_type" varchar, "amount" decimal(8,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_adjustments"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_adjustments"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093755"]]
  [1m[35m (10.5ms)[0m  commit transaction
Migrating to AddDisplayOnToSpreePaymentMethods (20180305093756)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_payment_methods" ADD "display_on" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093756"]]
  [1m[35m (7.9ms)[0m  commit transaction
Migrating to AddPositionToProductProperties (20180305093757)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_product_properties" ADD "position" integer DEFAULT 0
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093757"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to AddIdentifierToSpreePayments (20180305093758)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_payments" ADD "identifier" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093758"]]
  [1m[35m (7.4ms)[0m  commit transaction
Migrating to AddOrderIdIndexToPayments (20180305093759)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093759"]]
  [1m[35m (10.5ms)[0m  commit transaction
Migrating to AddPrimaryToSpreeProductsTaxons (20180305093760)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_products_taxons" ("product_id" integer, "taxon_id" integer) 
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_taxons_on_taxon_id" ON "aspree_products_taxons" ("taxon_id")[0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "tindex_aspree_products_taxons_on_product_id" ON "aspree_products_taxons" ("product_id")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "spree_products_taxons"[0m
  [1m[35m (0.7ms)[0m  DROP TABLE "spree_products_taxons"
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spree_products_taxons" ("product_id" integer, "taxon_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_taxons_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_taxons_on_product_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_taxons_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_taxons_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  CREATE  INDEX "index_spree_products_taxons_on_product_id" ON "spree_products_taxons" ("product_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_products_taxons_on_taxon_id" ON "spree_products_taxons" ("taxon_id")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "aspree_products_taxons"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "aspree_products_taxons"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093760"]]
  [1m[35m (10.4ms)[0m  commit transaction
Migrating to CreateSpreeStockItems (20180305093761)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "spree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "lock_version" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.4ms)[0m  [1mCREATE  INDEX "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items" ("stock_location_id")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "stock_item_by_loc_and_var_id" ON "spree_stock_items" ("stock_location_id", "variant_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093761"]]
  [1m[36m (9.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeStockLocations (20180305093762)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_stock_locations_on_address_id" ON "spree_stock_locations" ("address_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093762"]]
  [1m[35m (10.5ms)[0m  commit transaction
Migrating to CreateDefaultStock (20180305093763)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD "default" boolean DEFAULT 'f' NOT NULL
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "default"], ["created_at", "2018-03-05 09:37:47.202038"], ["updated_at", "2018-03-05 09:37:47.202038"]]
  [1m[35mSpree::Variant Load (0.3ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL  ORDER BY "spree_variants"."id" ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f', "cost_currency" varchar) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_variants"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_variants"[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f', "cost_currency" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "aspree_variants"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "aspree_variants"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093763"]]
  [1m[35m (7.8ms)[0m  commit transaction
Migrating to AddOrderIdIndexToShipments (20180305093764)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093764"]]
  [1m[36m (10.9ms)[0m  [1mcommit transaction[0m
Migrating to ChangeMetaDescriptionOnSpreeProductsToText (20180305093765)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" varchar, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_products"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_products"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" text, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "on_demand" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_on_name" ON "spree_products" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_products"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_products"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093765"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to AddStockLocationIdToSpreeShipments (20180305093766)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_shipments" ADD "stock_location_id" integer
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093766"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to AddPendingToInventoryUnit (20180305093767)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_inventory_units" ADD "pending" boolean DEFAULT 't'
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "spree_inventory_units" SET "pending" = 'f'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093767"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Migrating to RemoveOnDemandFromProductAndVariant (20180305093768)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" text, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_products"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_products"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" text, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_on_name" ON "spree_products" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_products"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_products"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f', "cost_currency" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "cost_currency" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_variants"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093768"]]
  [1m[35m (8.5ms)[0m  commit transaction
Migrating to CreateShippingMethodZone (20180305093769)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "shipping_methods_zones" ("shipping_method_id" integer, "zone_id" integer) 
  [1m[36mSpree::ShippingMethod Load (0.2ms)[0m  [1mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "zone_id" integer, "display_on" varchar, "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipping_methods"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_shipping_methods"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipping_methods"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_shipping_methods"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093769"]]
  [1m[36m (9.7ms)[0m  [1mcommit transaction[0m
Migrating to RemoveShippingCategoryIdFromShippingMethod (20180305093770)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_shipping_methods"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipping_methods"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_shipping_methods"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093770"]]
  [1m[35m (8.0ms)[0m  commit transaction
Migrating to CreateShippingMethodCategories (20180305093771)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_shipping_method_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipping_method_id" integer NOT NULL, "shipping_category_id" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipping_method_categories_on_shipping_method_id" ON "spree_shipping_method_categories" ("shipping_method_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_method_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipping_method_categories_on_shipping_category_id" ON "spree_shipping_method_categories" ("shipping_category_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093771"]]
  [1m[36m (10.0ms)[0m  [1mcommit transaction[0m
Migrating to AddTrackingUrlToSpreeShippingMethods (20180305093772)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_shipping_methods" ADD "tracking_url" varchar[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093772"]]
  [1m[36m (10.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeShippingRates (20180305093773)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_shipping_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "spree_shipping_rates_join_index" ON "spree_shipping_rates" ("shipment_id", "shipping_method_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093773"]]
  [1m[35m (10.8ms)[0m  commit transaction
Migrating to RemoveCategoryMatchAttributesFromShippingMethod (20180305093774)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "tracking_url" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipping_methods"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_shipping_methods"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "tracking_url" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipping_methods"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "tracking_url" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_shipping_methods"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "match_all" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "tracking_url" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipping_methods"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "match_all" boolean, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "tracking_url" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipping_methods"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spree_shipping_methods"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "display_on" varchar, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "tracking_url" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipping_methods"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_shipping_methods"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093774"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateStockMovements (20180305093775)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093775"]]
  [1m[35m (11.4ms)[0m  commit transaction
Migrating to AddAddressFieldsToStockLocation (20180305093776)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "default" boolean DEFAULT 'f' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_address_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "tindex_aspree_stock_locations_on_address_id" ON "aspree_stock_locations" ("address_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_locations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aspree_stock_locations" ("id","name","address_id","created_at","updated_at","default") VALUES (1, 'default', NULL, '2018-03-05 09:37:47.202038', '2018-03-05 09:37:47.202038', 'f')
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_stock_locations"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "default" boolean DEFAULT 'f' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_stock_locations_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_stock_locations_on_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_locations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "spree_stock_locations" ("id","name","created_at","updated_at","default") VALUES (1, 'default', '2018-03-05 09:37:47.202038', '2018-03-05 09:37:47.202038', 'f')[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "aspree_stock_locations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "address1" varchar[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_stock_locations" ADD "address2" varchar
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "city" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_locations" ADD "state_id" integer
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "state_name" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_locations" ADD "country_id" integer
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "zipcode" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_locations" ADD "phone" varchar
  [1m[36mSpree::Country Load (0.1ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = ?  ORDER BY "spree_countries"."id" ASC LIMIT 1[0m  [["iso", "US"]]
  [1m[35mSpree::Country Load (0.1ms)[0m  SELECT  "spree_countries".* FROM "spree_countries"  ORDER BY "spree_countries"."id" ASC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "spree_stock_locations" SET "country_id" = NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093776"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
Migrating to AddActiveFieldToStockLocations (20180305093777)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "active" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093777"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Migrating to AddBackorderableToStockItem (20180305093778)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_stock_items" ADD "backorderable" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093778"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Migrating to AddDefaultQuantityToStockMovement (20180305093779)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_stock_movements"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_stock_movements"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_movements"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_stock_movements"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093779"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to AddSourceAndDestinationToStockMovements (20180305093780)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_movements" ADD "source_id" integer
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD "source_type" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_movements" ADD "destination_id" integer
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD "destination_type" varchar[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093780"]]
  [1m[36m (15.3ms)[0m  [1mcommit transaction[0m
Migrating to ChangeOrdersTotalPrecision (20180305093781)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(8,2) DEFAULT '0.0' NOT NULL, "total" decimal(8,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(8,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(8,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_orders"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_orders"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(8,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(8,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar, "adjustment_total" decimal(8,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_orders"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_orders"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(8,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "aspree_orders"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_orders"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_orders"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_orders"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093781"]]
  [1m[35m (11.9ms)[0m  commit transaction
Migrating to ChangeSpreePaymentsAmountPrecision (20180305093782)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(8,2) DEFAULT '0.0' NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar, "payment_method_id" integer, "state" varchar, "response_code" varchar, "avs_response" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "identifier" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_payments_on_order_id" ON "aspree_payments" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_payments"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_payments"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar, "payment_method_id" integer, "state" varchar, "response_code" varchar, "avs_response" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "identifier" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_payments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_payments"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093782"]]
  [1m[36m (10.9ms)[0m  [1mcommit transaction[0m
Migrating to ChangeSpreeReturnAuthorizationAmountPrecision (20180305093783)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "state" varchar, "amount" decimal(8,2) DEFAULT '0.0' NOT NULL, "order_id" integer, "reason" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_return_authorizations"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_return_authorizations"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "state" varchar, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_return_authorizations"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_return_authorizations"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093783"]]
  [1m[35m (11.9ms)[0m  commit transaction
Migrating to ChangeAdjustmentsAmountPrecision (20180305093784)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "originator_id" integer, "originator_type" varchar, "amount" decimal(8,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_adjustments_on_order_id" ON "aspree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_adjustments"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_adjustments"
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "originator_id" integer, "originator_type" varchar, "amount" decimal(10,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_adjustments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")[0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "aspree_adjustments"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_adjustments"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093784"]]
  [1m[36m (14.5ms)[0m  [1mcommit transaction[0m
Migrating to AddOriginatorToStockMovement (20180305093785)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD "originator_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_movements" ADD "originator_type" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093785"]]
  [1m[35m (12.4ms)[0m  commit transaction
Migrating to DropSourceAndDestinationFromStockMovement (20180305093786)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "source_id" integer, "source_type" varchar, "destination_id" integer, "destination_type" varchar, "originator_id" integer, "originator_type" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_movements"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_stock_movements"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "source_type" varchar, "destination_id" integer, "destination_type" varchar, "originator_id" integer, "originator_type" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_movements"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_stock_movements"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "source_type" varchar, "destination_id" integer, "destination_type" varchar, "originator_id" integer, "originator_type" varchar) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_movements"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_stock_movements"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "destination_id" integer, "destination_type" varchar, "originator_id" integer, "originator_type" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_movements"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_stock_movements"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "destination_id" integer, "destination_type" varchar, "originator_id" integer, "originator_type" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_movements"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_stock_movements"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "destination_type" varchar, "originator_id" integer, "originator_type" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_movements"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_stock_movements"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "destination_type" varchar, "originator_id" integer, "originator_type" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_movements"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_stock_movements"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "originator_id" integer, "originator_type" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_stock_movements_on_stock_item_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_movements"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_stock_movements"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093786"]]
  [1m[36m (19.1ms)[0m  [1mcommit transaction[0m
Migrating to MigrateInventoryUnitSoldToOnHand (20180305093787)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "spree_inventory_units" SET "state" = 'on_hand' WHERE "spree_inventory_units"."state" = ?[0m  [["state", "sold"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093787"]]
  [1m[36m (11.0ms)[0m  [1mcommit transaction[0m
Migrating to AddStockLocationToRma (20180305093788)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_return_authorizations" ADD "stock_location_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093788"]]
  [1m[36m (14.8ms)[0m  [1mcommit transaction[0m
Migrating to UpdateShipmentStateForCanceledOrders (20180305093789)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093789"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to AddSeoMetasToTaxons (20180305093790)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_taxons" ADD "meta_title" varchar
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_taxons" ADD "meta_description" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_taxons" ADD "meta_keywords" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093790"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to RemoveStockItemAndVariantLock (20180305093791)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "lock_version" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "backorderable" boolean DEFAULT 't') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tstock_item_by_loc_and_var_id" ON "aspree_stock_items" ("stock_location_id", "variant_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_stock_items_on_stock_location_id" ON "aspree_stock_items" ("stock_location_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_items"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_stock_items"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "backorderable" boolean DEFAULT 't') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_stock_items_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tstock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tstock_item_by_loc_and_var_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items" ("stock_location_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "stock_item_by_loc_and_var_id" ON "spree_stock_items" ("stock_location_id", "variant_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_items"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_stock_items"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "cost_currency" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_variants"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "cost_currency" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_variants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093791"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to AddNameToSpreeCreditCards (20180305093792)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_credit_cards" ADD "name" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093792"]]
  [1m[35m (8.2ms)[0m  commit transaction
Migrating to UpdateNameFieldsOnSpreeCreditCards (20180305093793)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  UPDATE spree_credit_cards SET name = first_name || ' ' || last_name
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093793"]]
  [1m[35m (7.4ms)[0m  commit transaction
Migrating to AddIndexToSourceColumnsOnAdjustments (20180305093794)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_adjustments_on_source_type_and_source_id" ON "spree_adjustments" ("source_type", "source_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093794"]]
  [1m[36m (10.4ms)[0m  [1mcommit transaction[0m
Migrating to UpdateAdjustmentStates (20180305093795)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::Order Load (0.2ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL)  ORDER BY "spree_orders"."id" ASC LIMIT 1000[0m
  [1m[35mSpree::Shipment Load (0.1ms)[0m  SELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."state" = 'shipped'  ORDER BY "spree_shipments"."id" ASC LIMIT 1000
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "spree_adjustments" SET "state" = 'open' WHERE "spree_adjustments"."state" IS NULL[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093795"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to AddShippingRatesToShipments (20180305093796)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::Shipment Load (0.2ms)[0m  [1mSELECT  "spree_shipments".* FROM "spree_shipments"  ORDER BY "spree_shipments"."id" ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "shipping_method_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_shipments_on_order_id" ON "aspree_shipments" ("order_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_shipments_on_number" ON "aspree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipments"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_shipments"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_shipments_on_number" ON "spree_shipments" ("number")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipments"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_shipments"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093796"]]
  [1m[35m (8.5ms)[0m  commit transaction
Migrating to CreateSpreeStockTransfers (20180305093797)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_stock_transfers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "reference_number" varchar, "source_location_id" integer, "destination_location_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers" ("source_location_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_source_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_source_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers" ("destination_location_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093797"]]
  [1m[36m (10.5ms)[0m  [1mcommit transaction[0m
Migrating to DropProductsCountOnHand (20180305093798)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" text, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_products"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_products"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar, "meta_description" text, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_on_name" ON "spree_products" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_products"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_products"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093798"]]
  [1m[35m (7.8ms)[0m  commit transaction
Migrating to SetDefaultShippingRateCost (20180305093799)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipping_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='spree_shipping_rates_join_index' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='spree_shipping_rates_join_index' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "tspree_shipping_rates_join_index" ON "aspree_shipping_rates" ("shipment_id", "shipping_method_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipping_rates"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_shipping_rates"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2) DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tspree_shipping_rates_join_index' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tspree_shipping_rates_join_index' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "spree_shipping_rates_join_index" ON "spree_shipping_rates" ("shipment_id", "shipping_method_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipping_rates"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_shipping_rates"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093799"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Migrating to AddNumberToStockTransfer (20180305093800)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_destination_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_destination_location_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_source_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_source_location_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_stock_transfers_on_source_location_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_destination_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_destination_location_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_stock_transfers_on_destination_location_id"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_transfers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "reference" varchar, "source_location_id" integer, "destination_location_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_transfers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_stock_transfers"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_transfers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "reference" varchar, "source_location_id" integer, "destination_location_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_transfers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_stock_transfers"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_transfers" ADD "number" varchar
  [1m[36mSpree::StockTransfer Load (0.1ms)[0m  [1mSELECT  "spree_stock_transfers".* FROM "spree_stock_transfers"  ORDER BY "spree_stock_transfers"."id" ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_stock_transfers_on_number" ON "spree_stock_transfers" ("number")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers" ("source_location_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_source_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_source_location_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers" ("destination_location_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093800"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Migrating to AddSkuIndexToSpreeVariants (20180305093801)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_variants_on_sku" ON "spree_variants" ("sku")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093801"]]
  [1m[35m (9.4ms)[0m  commit transaction
Migrating to AddBackorderableDefaultToSpreeStockLocation (20180305093802)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD "backorderable_default" boolean DEFAULT 't'
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093802"]]
  [1m[35m (8.1ms)[0m  commit transaction
Migrating to AddPropageAllVariantsToSpreeStockLocation (20180305093803)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD "propagate_all_variants" boolean DEFAULT 't'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093803"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to RenameShippingMethodsZonesToSpreeShippingMethodsZones (20180305093804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "shipping_methods_zones" RENAME TO "spree_shipping_methods_zones"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093804"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to AddUserIdIndexToSpreeOrders (20180305093805)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_user_id" ON "spree_orders" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093805"]]
  [1m[36m (9.3ms)[0m  [1mcommit transaction[0m
Migrating to AddUpdatedAtToSpreeCountries (20180305093806)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_countries" ADD "updated_at" datetime[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093806"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
Migrating to AddUpdatedAtToSpreeStates (20180305093807)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_states" ADD "updated_at" datetime[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093807"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Migrating to AddCvvResultCodeAndCvvResultMessageToSpreePayments (20180305093808)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_payments" ADD "cvv_response_code" varchar[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_payments" ADD "cvv_response_message" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093808"]]
  [1m[35m (7.9ms)[0m  commit transaction
Migrating to AddUniqueIndexToPermalinkOnSpreeProducts (20180305093809)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "permalink_idx_unique" ON "spree_products" ("permalink")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093809"]]
  [1m[35m (10.6ms)[0m  commit transaction
Migrating to AddUniqueIndexToOrdersShipmentsAndStockTransfers (20180305093810)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093810"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
Migrating to AddDeletedAtToSpreeTaxRates (20180305093811)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_tax_rates" ADD "deleted_at" datetime[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093811"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
Migrating to RemoveLockVersionFromInventoryUnits (20180305093812)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lock_version" integer DEFAULT 0, "state" varchar, "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pending" boolean DEFAULT 't') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_inventory_units_on_variant_id" ON "aspree_inventory_units" ("variant_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_inventory_units_on_shipment_id" ON "aspree_inventory_units" ("shipment_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_inventory_units_on_order_id" ON "aspree_inventory_units" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_inventory_units"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_inventory_units"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pending" boolean DEFAULT 't') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_inventory_units_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_inventory_units_on_shipment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_inventory_units_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_inventory_units_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_inventory_units_on_order_id" ON "spree_inventory_units" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_inventory_units_on_shipment_id" ON "spree_inventory_units" ("shipment_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_inventory_units_on_variant_id" ON "spree_inventory_units" ("variant_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_inventory_units"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_inventory_units"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093812"]]
  [1m[36m (10.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCostPriceToLineItem (20180305093813)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_line_items" ADD "cost_price" decimal(8,2)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093813"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
Migrating to SetBackorderableToDefaultToFalse (20180305093814)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "backorderable" boolean DEFAULT 't') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tstock_item_by_loc_and_var_id" ON "aspree_stock_items" ("stock_location_id", "variant_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_stock_items_on_stock_location_id" ON "aspree_stock_items" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_stock_items"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_stock_items"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "backorderable" boolean DEFAULT 'f') 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_stock_items_on_stock_location_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tstock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tstock_item_by_loc_and_var_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "stock_item_by_loc_and_var_id" ON "spree_stock_items" ("stock_location_id", "variant_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_stock_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "default" boolean DEFAULT 'f' NOT NULL, "address1" varchar, "address2" varchar, "city" varchar, "state_id" integer, "state_name" varchar, "country_id" integer, "zipcode" varchar, "phone" varchar, "active" boolean DEFAULT 't', "backorderable_default" boolean DEFAULT 't', "propagate_all_variants" boolean DEFAULT 't') 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_locations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aspree_stock_locations" ("id","name","created_at","updated_at","default","address1","address2","city","state_id","state_name","country_id","zipcode","phone","active","backorderable_default","propagate_all_variants") VALUES (1, 'default', '2018-03-05 09:37:47.202038', '2018-03-05 09:37:47.202038', 'f', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 't', 't', 't')
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_stock_locations"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "default" boolean DEFAULT 'f' NOT NULL, "address1" varchar, "address2" varchar, "city" varchar, "state_id" integer, "state_name" varchar, "country_id" integer, "zipcode" varchar, "phone" varchar, "active" boolean DEFAULT 't', "backorderable_default" boolean DEFAULT 'f', "propagate_all_variants" boolean DEFAULT 't') 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_locations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "spree_stock_locations" ("id","name","created_at","updated_at","default","address1","address2","city","state_id","state_name","country_id","zipcode","phone","active","backorderable_default","propagate_all_variants") VALUES (1, 'default', '2018-03-05 09:37:47.202038', '2018-03-05 09:37:47.202038', 'f', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 't', 't', 't')
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_stock_locations"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093814"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Migrating to AddCreatedByIdToSpreeOrders (20180305093815)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_orders" ADD "created_by_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093815"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Migrating to IndexCompletedAtOnSpreeOrders (20180305093816)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_completed_at" ON "spree_orders" ("completed_at")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093816"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
Migrating to AddTaxCategoryIdToSpreeLineItems (20180305093817)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_line_items" ADD "tax_category_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093817"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Migrating to MigrateTaxCategoriesToLineItems (20180305093818)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::LineItem Load (0.1ms)[0m  [1mSELECT  "spree_line_items".* FROM "spree_line_items"  ORDER BY "spree_line_items"."id" ASC LIMIT 1000[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093818"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
Migrating to DropSpreeMailMethods (20180305093819)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_mail_methods"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093819"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to SetDefaultStockLocationOnShipments (20180305093820)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spree_shipments" WHERE (stock_location_id IS NULL)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093820"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to UpgradeAdjustments (20180305093821)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."source_type" = ?  ORDER BY "spree_adjustments"."id" ASC LIMIT 1000[0m  [["source_type", "Spree::Shipment"]]
  [1m[35mSpree::Adjustment Load (0.2ms)[0m  SELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."originator_type" = ?  ORDER BY "spree_adjustments"."id" ASC LIMIT 1000  [["originator_type", "Spree::TaxRate"]]
  [1m[36mSpree::Adjustment Load (0.0ms)[0m  [1mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."originator_type" = ?  ORDER BY "spree_adjustments"."id" ASC LIMIT 1000[0m  [["originator_type", "Spree::PromotionAction"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093821"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
Migrating to RenameAdjustmentFields (20180305093822)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "originator_id" integer, "originator_type" varchar, "amount" decimal(10,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_adjustments_on_source_type_and_source_id" ON "aspree_adjustments" ("source_type", "source_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_adjustments_on_order_id" ON "aspree_adjustments" ("adjustable_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_adjustments"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_adjustments"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "originator_type" varchar, "amount" decimal(10,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_adjustments_on_source_type_and_source_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_adjustments_on_source_type_and_source_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_adjustments_on_source_type_and_source_id" ON "spree_adjustments" ("source_type", "source_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_adjustments"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_adjustments"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "originator_type" varchar, "amount" decimal(10,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_adjustments_on_source_type_and_source_id" ON "aspree_adjustments" ("source_type", "source_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_adjustments_on_order_id" ON "aspree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_adjustments"[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spree_adjustments"
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "amount" decimal(10,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_adjustments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_adjustments_on_source_type_and_source_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_adjustments_on_source_type_and_source_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_adjustments_on_source_type_and_source_id" ON "spree_adjustments" ("source_type", "source_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_adjustments"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_adjustments"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_adjustments" ADD "order_id" integer[0m
  [1m[35mSpree::Adjustment Load (0.2ms)[0m  SELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = ?  ORDER BY "spree_adjustments"."id" ASC LIMIT 1000  [["adjustable_type", "Spree::Order"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093822"]]
  [1m[35m (8.0ms)[0m  commit transaction
Migrating to AddAdminNameColumnToSpreeShippingMethods (20180305093823)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_shipping_methods" ADD "admin_name" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093823"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to AddAdminNameColumnToSpreeStockLocations (20180305093824)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD "admin_name" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093824"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to AddShipmentTotalToSpreeOrders (20180305093825)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_orders" ADD "shipment_total" decimal(10,2) DEFAULT 0.0 NOT NULL
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093825"]]
  [1m[35m (7.5ms)[0m  commit transaction
Migrating to ExpandOrderNumberSize (20180305093826)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar, "created_by_id" integer, "shipment_total" decimal(10,2) DEFAULT '0.0' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_completed_at" ON "aspree_orders" ("completed_at")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_user_id" ON "aspree_orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_orders"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_orders"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(32), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar, "created_by_id" integer, "shipment_total" decimal(10,2) DEFAULT '0.0' NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_completed_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_user_id" ON "spree_orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_completed_at" ON "spree_orders" ("completed_at")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_orders"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_orders"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093826"]]
  [1m[35m (10.1ms)[0m  commit transaction
Migrating to RenameActivatorsToPromotions (20180305093827)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_activators" RENAME TO "spree_promotions"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093827"]]
  [1m[35m (7.5ms)[0m  commit transaction
Migrating to AddAdjustmentTotalToLineItems (20180305093828)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_line_items" ADD "adjustment_total" decimal(10,2) DEFAULT 0.0
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093828"]]
  [1m[35m (7.5ms)[0m  commit transaction
Migrating to AddAdjustmentTotalToShipments (20180305093829)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_shipments" ADD "adjustment_total" decimal(10,2) DEFAULT 0.0
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093829"]]
  [1m[35m (8.5ms)[0m  commit transaction
Migrating to AddDepthToSpreeTaxons (20180305093830)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_taxons" ADD "depth" integer
  [1m[36mSpree::Taxon Load (0.1ms)[0m  [1mSELECT "spree_taxons".* FROM "spree_taxons"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093830"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Migrating to AddTaxTotalToLineItemsShipmentsAndOrders (20180305093831)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_line_items" ADD "tax_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_shipments" ADD "tax_total" decimal(10,2) DEFAULT 0.0
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_orders" ADD "tax_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093831"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
Migrating to AddShippingCategoryToShippingMethodsAndProducts (20180305093832)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::ShippingCategory Load (0.1ms)[0m  [1mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories"  ORDER BY "spree_shipping_categories"."id" ASC LIMIT 1[0m
  [1m[35mSpree::ShippingCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."name" = 'Default' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Default"], ["created_at", "2018-03-05 09:37:48.407682"], ["updated_at", "2018-03-05 09:37:48.407682"]]
  [1m[35mSpree::ShippingMethod Load (0.1ms)[0m  SELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "spree_products" SET "shipping_category_id" = 1 WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."shipping_category_id" IS NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093832"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Migrating to MigrateOldShippingCalculators (20180305093833)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::ShippingMethod Load (0.2ms)[0m  [1mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093833"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Migrating to AddCodeToSpreePromotionRules (20180305093834)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_promotion_rules" ADD "code" varchar[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093834"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Migrating to ChangeStatesRequiredForCountries (20180305093835)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "iso_name" varchar, "iso" varchar, "iso3" varchar, "name" varchar, "numcode" integer, "states_required" boolean DEFAULT 't', "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_countries"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spree_countries"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "iso_name" varchar, "iso" varchar, "iso3" varchar, "name" varchar, "numcode" integer, "states_required" boolean DEFAULT 'f', "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_countries"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_countries"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093835"]]
  [1m[35m (10.6ms)[0m  commit transaction
Migrating to AddDeletedAtToSpreeStockItems (20180305093836)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_items" ADD "deleted_at" datetime
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093836"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to RemovePromotionsEventNameField (20180305093837)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_promotions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar, "expires_at" datetime, "starts_at" datetime, "name" varchar, "event_name" varchar, "type" varchar, "usage_limit" integer, "match_policy" varchar DEFAULT 'all', "code" varchar, "advertise" boolean DEFAULT 'f', "path" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_promotions"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_promotions"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_promotions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar, "expires_at" datetime, "starts_at" datetime, "name" varchar, "type" varchar, "usage_limit" integer, "match_policy" varchar DEFAULT 'all', "code" varchar, "advertise" boolean DEFAULT 'f', "path" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_promotions"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_promotions"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093837"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Migrating to AddPromoTotalToLineItemsAndShipmentsAndOrders (20180305093838)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_line_items" ADD "promo_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_shipments" ADD "promo_total" decimal(10,2) DEFAULT 0.0
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_orders" ADD "promo_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093838"]]
  [1m[36m (10.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveUnusedCreditCardFields (20180305093839)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "first_name" varchar, "last_name" varchar, "start_month" varchar, "start_year" varchar, "issue_number" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_credit_cards"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_credit_cards"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "first_name" varchar, "last_name" varchar, "start_year" varchar, "issue_number" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_credit_cards"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_credit_cards"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "first_name" varchar, "last_name" varchar, "start_year" varchar, "issue_number" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_credit_cards"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_credit_cards"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "first_name" varchar, "last_name" varchar, "issue_number" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_credit_cards"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_credit_cards"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "first_name" varchar, "last_name" varchar, "issue_number" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_credit_cards"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spree_credit_cards"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "first_name" varchar, "last_name" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_credit_cards"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_credit_cards"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093839"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to AddTrackInventoryToVariant (20180305093840)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_variants" ADD "track_inventory" boolean DEFAULT 't'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093840"]]
  [1m[35m (7.5ms)[0m  commit transaction
Migrating to AddTaxCategoryToVariants (20180305093841)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_variants" ADD "tax_category_id" integer
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_tax_category_id" ON "spree_variants" ("tax_category_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093841"]]
  [1m[36m (20.3ms)[0m  [1mcommit transaction[0m
Migrating to AddChannelToSpreeOrders (20180305093842)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_orders" ADD "channel" varchar DEFAULT 'spree'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093842"]]
  [1m[36m (10.9ms)[0m  [1mcommit transaction[0m
Migrating to AddIncludedToAdjustments (20180305093843)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "spree_adjustments" ADD "included" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093843"]]
  [1m[36m (8.5ms)[0m  [1mcommit transaction[0m
Migrating to RenameTaxTotalFields (20180305093844)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(8,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0') [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_line_items_on_variant_id" ON "aspree_line_items" ("variant_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_line_items_on_order_id" ON "aspree_line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_line_items"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_line_items"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(8,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_line_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_line_items"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_shipments_on_order_id" ON "aspree_shipments" ("order_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_shipments_on_number" ON "aspree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipments"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_shipments"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_shipments_on_number" ON "spree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipments"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_shipments"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(32), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar, "created_by_id" integer, "shipment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "channel" varchar DEFAULT 'spree') [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_completed_at" ON "aspree_orders" ("completed_at")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_user_id" ON "aspree_orders" ("user_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(32), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar, "created_by_id" integer, "shipment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "channel" varchar DEFAULT 'spree') 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_orders_on_user_id" ON "spree_orders" ("user_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_completed_at" ON "spree_orders" ("completed_at")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_orders"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_orders"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_line_items" ADD "included_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_shipments" ADD "included_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_orders" ADD "included_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093844"]]
  [1m[36m (16.5ms)[0m  [1mcommit transaction[0m
Migrating to AddLineItemIdToSpreeInventoryUnits (20180305093845)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_inventory_units" ADD "line_item_id" integer[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_inventory_units_on_line_item_id" ON "spree_inventory_units" ("line_item_id")[0m
  [1m[35mSpree::Shipment Load (0.1ms)[0m  SELECT  "spree_shipments".* FROM "spree_shipments"  ORDER BY "spree_shipments"."id" ASC LIMIT 1000
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093845"]]
  [1m[35m (15.7ms)[0m  commit transaction
Migrating to AddUpdatedAtToVariants (20180305093846)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_variants" ADD "updated_at" datetime
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093846"]]
  [1m[35m (13.4ms)[0m  commit transaction
Migrating to AddPositionToClassifications (20180305093847)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_products_taxons" ADD "position" integer
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093847"]]
  [1m[35m (13.6ms)[0m  commit transaction
Migrating to CreateSpreeOrdersPromotions (20180305093848)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_orders_promotions" ("order_id" integer, "promotion_id" integer) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093848"]]
  [1m[35m (16.6ms)[0m  commit transaction
Migrating to UniqueShippingMethodCategories (20180305093849)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::ShippingMethodCategory Load (0.1ms)[0m  SELECT shipping_category_id,shipping_method_id,COUNT(*) FROM "spree_shipping_method_categories" GROUP BY shipping_category_id,shipping_method_id HAVING COUNT(*) > 1
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_method_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_spree_shipping_method_categories" ON "spree_shipping_method_categories" ("shipping_category_id", "shipping_method_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='unique_spree_shipping_method_categories' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='unique_spree_shipping_method_categories' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_category_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_method_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_spree_shipping_method_categories_on_shipping_category_id"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093849"]]
  [1m[36m (12.2ms)[0m  [1mcommit transaction[0m
Migrating to AddItemCountToSpreeOrders (20180305093850)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_orders" ADD "item_count" integer DEFAULT 0[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093850"]]
  [1m[36m (9.4ms)[0m  [1mcommit transaction[0m
Migrating to RemoveValueTypeFromSpreePreferences (20180305093851)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" text, "key" varchar, "value_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_preferences_on_key' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "tindex_aspree_preferences_on_key" ON "aspree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_preferences"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_preferences"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" text, "key" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_preferences_on_key' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_preferences"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_preferences"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093851"]]
  [1m[35m (8.4ms)[0m  commit transaction
Migrating to RenamePermalinkToSlugForProducts (20180305093852)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "slug" varchar, "meta_description" text, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='permalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='permalink_idx_unique' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "tpermalink_idx_unique" ON "aspree_products" ("slug")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("slug")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_products"[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spree_products"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "slug" varchar, "meta_description" text, "meta_keywords" varchar, "tax_category_id" integer, "shipping_category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_available_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_products_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tpermalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tpermalink_idx_unique' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_on_name" ON "spree_products" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_products_on_permalink" ON "spree_products" ("slug")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "permalink_idx_unique" ON "spree_products" ("slug")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_products"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_products"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='permalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='permalink_idx_unique' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='permalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='permalink_idx_unique' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='permalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='permalink_idx_unique' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_products_on_slug" ON "spree_products" ("slug")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_slug' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='permalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='permalink_idx_unique' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_spree_products_on_permalink"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093852"]]
  [1m[35m (12.0ms)[0m  commit transaction
Migrating to AddIndexToVariantIdAndCurrencyOnPrices (20180305093853)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_prices_on_variant_id_and_currency" ON "spree_prices" ("variant_id", "currency")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093853"]]
  [1m[35m (8.9ms)[0m  commit transaction
Migrating to RenameActivatorIdInRulesAndActionsToPromotionId (20180305093854)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "promotion_id" integer, "user_id" integer, "product_group_id" integer, "type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "code" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_promotion_rules_on_user_id" ON "aspree_promotion_rules" ("user_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_promotion_rules_on_product_group_id" ON "aspree_promotion_rules" ("product_group_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_promotion_rules"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_promotion_rules"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "promotion_id" integer, "user_id" integer, "product_group_id" integer, "type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "code" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_promotion_rules_on_product_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_promotion_rules_on_product_group_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_promotion_rules_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_promotion_rules_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_promotion_rules_on_product_group_id" ON "spree_promotion_rules" ("product_group_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_promotion_rules_on_user_id" ON "spree_promotion_rules" ("user_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_promotion_rules"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "aspree_promotion_rules"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_promotion_actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "promotion_id" integer, "position" integer, "type" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_promotion_actions"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_promotion_actions"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_promotion_actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "promotion_id" integer, "position" integer, "type" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_promotion_actions"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_promotion_actions"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093854"]]
  [1m[35m (16.9ms)[0m  commit transaction
Migrating to AddDeletedAtToSpreePrices (20180305093855)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_prices" ADD "deleted_at" datetime
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093855"]]
  [1m[35m (13.3ms)[0m  commit transaction
Migrating to AddApproverIdAndApprovedAtToOrders (20180305093856)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_orders" ADD "approver_id" integer
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_orders" ADD "approved_at" datetime[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093856"]]
  [1m[36m (15.2ms)[0m  [1mcommit transaction[0m
Migrating to AddConfirmationDeliveredToSpreeOrders (20180305093857)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_orders" ADD "confirmation_delivered" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093857"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
Migrating to AddAutoCaptureToPaymentMethods (20180305093858)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_payment_methods" ADD "auto_capture" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093858"]]
  [1m[36m (14.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreePaymentCaptureEvents (20180305093859)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_payment_capture_events" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT 0.0, "payment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_payment_capture_events_on_payment_id" ON "spree_payment_capture_events" ("payment_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093859"]]
  [1m[35m (18.9ms)[0m  commit transaction
Migrating to AddUncapturedAmountToPayments (20180305093860)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "spree_payments" ADD "uncaptured_amount" decimal(10,2) DEFAULT 0.0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093860"]]
  [1m[35m (17.0ms)[0m  commit transaction
Migrating to DefaultVariantWeightToZero (20180305093861)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "spree_variants" SET weight = 0.0 WHERE "spree_variants"."weight" IS NULL
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "cost_currency" varchar, "track_inventory" boolean DEFAULT 't', "tax_category_id" integer, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_tax_category_id" ON "aspree_variants" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_variants_on_sku" ON "aspree_variants" ("sku")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_variants"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_variants"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2) DEFAULT 0.0, "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "cost_currency" varchar, "track_inventory" boolean DEFAULT 't', "tax_category_id" integer, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_sku' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_variants_on_sku" ON "spree_variants" ("sku")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_tax_category_id" ON "spree_variants" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_variants"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093861"]]
  [1m[36m (12.5ms)[0m  [1mcommit transaction[0m
Migrating to AddTaxCategoryIdToShippingMethods (20180305093862)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_shipping_methods" ADD "tax_category_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093862"]]
  [1m[36m (13.8ms)[0m  [1mcommit transaction[0m
Migrating to AddTaxRateIdToShippingRates (20180305093863)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_shipping_rates" ADD "tax_rate_id" integer[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093863"]]
  [1m[36m (11.7ms)[0m  [1mcommit transaction[0m
Migrating to AddPreTaxAmountToLineItemsAndShipments (20180305093864)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_line_items" ADD "pre_tax_amount" decimal(8,2)[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_shipments" ADD "pre_tax_amount" decimal(8,2)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093864"]]
  [1m[35m (10.0ms)[0m  commit transaction
Migrating to AddMoreIndexes (20180305093865)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_payment_methods_on_id_and_type" ON "spree_payment_methods" ("id", "type")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_calculators_on_id_and_type" ON "spree_calculators" ("id", "type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_calculators_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_calculators_on_id_and_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_calculators_on_calculable_id_and_calculable_type" ON "spree_calculators" ("calculable_id", "calculable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_payments_on_payment_method_id" ON "spree_payments" ("payment_method_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_promotion_actions_on_id_and_type" ON "spree_promotion_actions" ("id", "type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_actions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_actions_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_promotion_actions_on_promotion_id" ON "spree_promotion_actions" ("promotion_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_promotions_on_id_and_type" ON "spree_promotions" ("id", "type")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_option_values_on_option_type_id" ON "spree_option_values" ("option_type_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipments_on_stock_location_id" ON "spree_shipments" ("stock_location_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093865"]]
  [1m[36m (14.3ms)[0m  [1mcommit transaction[0m
Migrating to AddConsideredRiskyToOrders (20180305093866)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_orders" ADD "considered_risky" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093866"]]
  [1m[36m (14.5ms)[0m  [1mcommit transaction[0m
Migrating to AddPreferenceStoreToEverything (20180305093867)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_calculators" ADD "preferences" text[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_gateways" ADD "preferences" text
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_payment_methods" ADD "preferences" text[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_promotion_rules" ADD "preferences" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093867"]]
  [1m[35m (9.0ms)[0m  commit transaction
Migrating to AddUserIdToSpreeCreditCards (20180305093868)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_credit_cards" ADD "user_id" integer
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_credit_cards_on_user_id" ON "spree_credit_cards" ("user_id")[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_credit_cards" ADD "payment_method_id" integer
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_credit_cards_on_payment_method_id" ON "spree_credit_cards" ("payment_method_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093868"]]
  [1m[35m (16.6ms)[0m  commit transaction
Migrating to MigrateOldPreferences (20180305093869)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::Calculator Load (0.1ms)[0m  SELECT  "spree_calculators".* FROM "spree_calculators"  ORDER BY "spree_calculators"."id" ASC LIMIT 1000
  [1m[36mSpree::PaymentMethod Load (0.3ms)[0m  [1mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL  ORDER BY "spree_payment_methods"."id" ASC LIMIT 1000[0m
  [1m[35mSpree::PromotionRule Load (0.2ms)[0m  SELECT  "spree_promotion_rules".* FROM "spree_promotion_rules"  ORDER BY "spree_promotion_rules"."id" ASC LIMIT 1000
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093869"]]
  [1m[35m (10.3ms)[0m  commit transaction
Migrating to CreateSpreeStores (20180305093870)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_stores" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "url" varchar, "meta_description" text, "meta_keywords" text, "seo_title" varchar, "mail_from_address" varchar, "default_currency" varchar, "code" varchar, "default" boolean DEFAULT 'f' NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093870"]]
  [1m[35m (10.6ms)[0m  commit transaction
Migrating to CreateStoreFromPreferences (20180305093871)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::Store Load (0.2ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = ?  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
  [1m[36mSpree::Store Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_stores" WHERE "spree_stores"."code" = 'spree' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spree_stores" WHERE "spree_stores"."default" = ?  [["default", "t"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spree_stores" ("name", "url", "mail_from_address", "code", "default", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Spree Demo Site"], ["url", "demo.spreecommerce.com"], ["mail_from_address", "spree@example.com"], ["code", "spree"], ["default", "t"], ["created_at", "2018-03-05 09:37:49.168688"], ["updated_at", "2018-03-05 09:37:49.168688"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093871"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
Migrating to AddTimestampsToSpreeAssets (20180305093872)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_assets" ADD "created_at" datetime[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_assets" ADD "updated_at" datetime
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093872"]]
  [1m[35m (7.8ms)[0m  commit transaction
Migrating to CreateSpreeTaxonsPromotionRules (20180305093873)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "spree_taxons_promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "taxon_id" integer, "promotion_rule_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxons_promotion_rules_on_taxon_id" ON "spree_taxons_promotion_rules" ("taxon_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxons_promotion_rules_on_promotion_rule_id" ON "spree_taxons_promotion_rules" ("promotion_rule_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093873"]]
  [1m[36m (10.9ms)[0m  [1mcommit transaction[0m
Migrating to AddAdditionalStoreFields (20180305093874)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE  INDEX "index_spree_stores_on_code" ON "spree_stores" ("code")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stores_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stores_on_code' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_stores_on_default" ON "spree_stores" ("default")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093874"]]
  [1m[36m (9.4ms)[0m  [1mcommit transaction[0m
Migrating to AddManyMissingIndexes (20180305093875)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'

  [1m[36m (0.4ms)[0m  [1mCREATE  INDEX "index_spree_adjustments_on_adjustable_id_and_adjustable_type" ON "spree_adjustments" ("adjustable_id", "adjustable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_adjustments_on_eligible" ON "spree_adjustments" ("eligible")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_adjustments_on_order_id" ON "spree_adjustments" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_promotions_on_code" ON "spree_promotions" ("code")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_code' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_promotions_on_expires_at" ON "spree_promotions" ("expires_at")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_states_on_country_id" ON "spree_states" ("country_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_stock_items_on_deleted_at" ON "spree_stock_items" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_option_types_on_position" ON "spree_option_types" ("position")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_on_option_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_option_values_on_position" ON "spree_option_values" ("position")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_product_option_types_on_option_type_id" ON "spree_product_option_types" ("option_type_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_option_types_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_option_types_on_option_type_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_product_option_types_on_product_id" ON "spree_product_option_types" ("product_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_products_taxons_on_position" ON "spree_products_taxons" ("position")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_expires_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_expires_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_code' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_promotions_on_starts_at" ON "spree_promotions" ("starts_at")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stores_on_default' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stores_on_default' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stores_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stores_on_code' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_stores_on_url" ON "spree_stores" ("url")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093875"]]
  [1m[36m (9.6ms)[0m  [1mcommit transaction[0m
Migrating to CorrectSomePolymorphicIndexAndAddMoreMissing (20180305093876)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_lastname' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_lastname' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_firstname' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_firstname' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_addresses_on_country_id" ON "spree_addresses" ("country_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_addresses_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_addresses_on_country_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_lastname' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_lastname' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_firstname' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_firstname' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_addresses_on_state_id" ON "spree_addresses" ("state_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_type_and_source_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_adjustments_on_source_type_and_source_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_adjustments_on_source_id_and_source_type" ON "spree_adjustments" ("source_id", "source_type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_credit_cards_on_address_id" ON "spree_credit_cards" ("address_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_gateways_on_active" ON "spree_gateways" ("active")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_gateways_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_gateways_on_active' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_gateways_on_test_mode" ON "spree_gateways" ("test_mode")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_inventory_units_on_line_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_inventory_units_on_line_item_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_inventory_units_on_return_authorization_id" ON "spree_inventory_units" ("return_authorization_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_line_items_on_tax_category_id" ON "spree_line_items" ("tax_category_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_log_entries_on_source_id_and_source_type" ON "spree_log_entries" ("source_id", "source_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_approver_id" ON "spree_orders" ("approver_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_bill_address_id" ON "spree_orders" ("bill_address_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_confirmation_delivered" ON "spree_orders" ("confirmation_delivered")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_considered_risky" ON "spree_orders" ("considered_risky")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_created_by_id" ON "spree_orders" ("created_by_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_ship_address_id" ON "spree_orders" ("ship_address_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_shipping_method_id" ON "spree_orders" ("shipping_method_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_promotions_on_order_id_and_promotion_id" ON "spree_orders_promotions" ("order_id", "promotion_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_payments_on_source_id_and_source_type" ON "spree_payments" ("source_id", "source_type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_prices_on_deleted_at" ON "spree_prices" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_option_types_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_option_types_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_option_types_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_option_types_on_option_type_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_product_option_types_on_position" ON "spree_product_option_types" ("position")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_product_properties_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_product_properties_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_product_properties_on_position" ON "spree_product_properties" ("position")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_properties_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_properties_on_position' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_product_properties_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_product_properties_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_product_properties_on_property_id" ON "spree_product_properties" ("property_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_slug' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='permalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='permalink_idx_unique' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_products_on_shipping_category_id" ON "spree_products" ("shipping_category_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_slug' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='permalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='permalink_idx_unique' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_products_on_tax_category_id" ON "spree_products" ("tax_category_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_promotion_action_line_items_on_promotion_action_id" ON "spree_promotion_action_line_items" ("promotion_action_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_action_line_items_on_promotion_action_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_action_line_items_on_promotion_action_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_promotion_action_line_items_on_variant_id" ON "spree_promotion_action_line_items" ("variant_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_promotion_rules_on_promotion_id" ON "spree_promotion_rules" ("promotion_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_starts_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_starts_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_expires_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_expires_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_code' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_promotions_on_advertise" ON "spree_promotions" ("advertise")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_return_authorizations_on_number" ON "spree_return_authorizations" ("number")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_return_authorizations_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_return_authorizations_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_spree_return_authorizations_on_order_id" ON "spree_return_authorizations" ("order_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_return_authorizations_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_return_authorizations_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_return_authorizations_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_return_authorizations_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_return_authorizations_on_stock_location_id" ON "spree_return_authorizations" ("stock_location_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_shipments_on_address_id" ON "spree_shipments" ("address_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipping_methods_on_deleted_at" ON "spree_shipping_methods" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_methods_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_methods_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipping_methods_on_tax_category_id" ON "spree_shipping_methods" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='spree_shipping_rates_join_index' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='spree_shipping_rates_join_index' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipping_rates_on_selected" ON "spree_shipping_rates" ("selected")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_rates_on_selected' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_rates_on_selected' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='spree_shipping_rates_join_index' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='spree_shipping_rates_join_index' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_shipping_rates_on_tax_rate_id" ON "spree_shipping_rates" ("tax_rate_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_state_changes_on_stateful_id_and_stateful_type" ON "spree_state_changes" ("stateful_id", "stateful_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_state_changes_on_stateful_id_and_stateful_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_state_changes_on_stateful_id_and_stateful_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_state_changes_on_user_id" ON "spree_state_changes" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_stock_items_on_backorderable" ON "spree_stock_items" ("backorderable")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_stock_locations_on_active" ON "spree_stock_locations" ("active")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_stock_locations_on_backorderable_default" ON "spree_stock_locations" ("backorderable_default")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_backorderable_default' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_backorderable_default' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_stock_locations_on_country_id" ON "spree_stock_locations" ("country_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_country_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_backorderable_default' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_backorderable_default' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_stock_locations_on_propagate_all_variants" ON "spree_stock_locations" ("propagate_all_variants")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_propagate_all_variants' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_propagate_all_variants' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_country_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_backorderable_default' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_backorderable_default' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_stock_locations_on_state_id" ON "spree_stock_locations" ("state_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_tax_categories_on_deleted_at" ON "spree_tax_categories" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_categories_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_categories_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_tax_categories_on_is_default" ON "spree_tax_categories" ("is_default")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_tax_rates_on_deleted_at" ON "spree_tax_rates" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_tax_rates_on_included_in_price" ON "spree_tax_rates" ("included_in_price")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_included_in_price' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_included_in_price' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_tax_rates_on_show_rate_in_label" ON "spree_tax_rates" ("show_rate_in_label")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_show_rate_in_label' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_show_rate_in_label' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_included_in_price' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_included_in_price' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_tax_rates_on_tax_category_id" ON "spree_tax_rates" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_show_rate_in_label' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_show_rate_in_label' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_included_in_price' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_included_in_price' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_tax_rates_on_zone_id" ON "spree_tax_rates" ("zone_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxonomies_on_position" ON "spree_taxonomies" ("position")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_parent_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxons_on_position" ON "spree_taxons" ("position")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_spree_trackers_on_active" ON "spree_trackers" ("active")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_deleted_at" ON "spree_variants" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_is_master" ON "spree_variants" ("is_master")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_position" ON "spree_variants" ("position")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_position' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_track_inventory" ON "spree_variants" ("track_inventory")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_zone_members_on_zone_id" ON "spree_zone_members" ("zone_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_zone_members_on_zone_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_zone_members_on_zone_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_zone_members_on_zoneable_id_and_zoneable_type" ON "spree_zone_members" ("zoneable_id", "zoneable_type")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_zones_on_default_tax" ON "spree_zones" ("default_tax")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093876"]]
  [1m[35m (12.4ms)[0m  commit transaction
Migrating to AddUserIdCreatedByIdIndexToOrder (20180305093877)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_orders_on_user_id_and_created_by_id" ON "spree_orders" ("user_id", "created_by_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093877"]]
  [1m[35m (10.6ms)[0m  commit transaction
Migrating to ChangeSpreePriceAmountPrecision (20180305093878)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(8,2), "currency" varchar, "deleted_at" datetime) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_prices_on_deleted_at" ON "aspree_prices" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_prices_on_variant_id_and_currency" ON "aspree_prices" ("variant_id", "currency")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_prices"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_prices"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(10,2), "currency" varchar, "deleted_at" datetime) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_prices_on_variant_id_and_currency' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_prices_on_variant_id_and_currency' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_prices_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_prices_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_prices_on_variant_id_and_currency" ON "spree_prices" ("variant_id", "currency")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_prices_on_deleted_at" ON "spree_prices" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_prices"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_prices"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(8,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2)) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_line_items_on_tax_category_id" ON "aspree_line_items" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_line_items_on_variant_id" ON "aspree_line_items" ("variant_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_line_items_on_order_id" ON "aspree_line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_line_items"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_line_items"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(8,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2)) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (0.6ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_tax_category_id" ON "spree_line_items" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_line_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_line_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(8,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2)) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_line_items_on_tax_category_id" ON "aspree_line_items" ("tax_category_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_line_items_on_variant_id" ON "aspree_line_items" ("variant_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_line_items_on_order_id" ON "aspree_line_items" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_line_items"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_line_items"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(10,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2)) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_tax_category_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_line_items_on_tax_category_id" ON "spree_line_items" ("tax_category_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_line_items"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_line_items"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2) DEFAULT '0.0', "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "cost_currency" varchar, "track_inventory" boolean DEFAULT 't', "tax_category_id" integer, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_track_inventory' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_track_inventory' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_position' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_track_inventory" ON "aspree_variants" ("track_inventory")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_variants_on_position" ON "aspree_variants" ("position")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_is_master" ON "aspree_variants" ("is_master")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_variants_on_deleted_at" ON "aspree_variants" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_tax_category_id" ON "aspree_variants" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_variants_on_sku" ON "aspree_variants" ("sku")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_variants"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar DEFAULT '' NOT NULL, "weight" decimal(8,2) DEFAULT '0.0', "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(10,2), "position" integer, "cost_currency" varchar, "track_inventory" boolean DEFAULT 't', "tax_category_id" integer, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_sku' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_is_master' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_is_master' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_position' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_variants_on_track_inventory' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_variants_on_track_inventory' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_sku" ON "spree_variants" ("sku")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_tax_category_id" ON "spree_variants" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_deleted_at" ON "spree_variants" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_is_master" ON "spree_variants" ("is_master")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_variants_on_position" ON "spree_variants" ("position")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_position' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_variants_on_track_inventory" ON "spree_variants" ("track_inventory")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "aspree_variants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093878"]]
  [1m[36m (10.8ms)[0m  [1mcommit transaction[0m
Migrating to AddTokenToSpreeOrders (20180305093879)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "spree_orders" ADD "guest_token" varchar[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093879"]]
  [1m[36m (10.0ms)[0m  [1mcommit transaction[0m
Migrating to MoveOrderTokenFromTokenizedPermission (20180305093880)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::Order Load (0.2ms)[0m  [1mSELECT "spree_orders".* FROM "spree_orders"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093880"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to SetShipmentTotalForUsersUpgrading (20180305093881)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::Order Load (0.3ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) AND (shipment_total = 0)  ORDER BY "spree_orders"."id" ASC LIMIT 1000[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093881"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
Migrating to DropCreditCardFirstNameAndLastName (20180305093882)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "first_name" varchar, "last_name" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar, "user_id" integer, "payment_method_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_credit_cards_on_address_id" ON "aspree_credit_cards" ("address_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_credit_cards_on_payment_method_id" ON "aspree_credit_cards" ("payment_method_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_credit_cards_on_user_id" ON "aspree_credit_cards" ("user_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_credit_cards"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_credit_cards"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "last_name" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar, "user_id" integer, "payment_method_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_credit_cards_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_credit_cards_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_credit_cards_on_payment_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_credit_cards_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_credit_cards_on_address_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_credit_cards_on_user_id" ON "spree_credit_cards" ("user_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_credit_cards_on_payment_method_id" ON "spree_credit_cards" ("payment_method_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_credit_cards_on_address_id" ON "spree_credit_cards" ("address_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_credit_cards"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_credit_cards"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "last_name" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar, "user_id" integer, "payment_method_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_credit_cards_on_address_id" ON "aspree_credit_cards" ("address_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_credit_cards_on_payment_method_id" ON "aspree_credit_cards" ("payment_method_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_credit_cards_on_user_id" ON "aspree_credit_cards" ("user_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_credit_cards"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_credit_cards"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar, "year" varchar, "cc_type" varchar, "last_digits" varchar, "address_id" integer, "gateway_customer_profile_id" varchar, "gateway_payment_profile_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar, "user_id" integer, "payment_method_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_credit_cards_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_credit_cards_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_credit_cards_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_credit_cards_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_credit_cards_on_address_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_credit_cards_on_user_id" ON "spree_credit_cards" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_credit_cards_on_payment_method_id" ON "spree_credit_cards" ("payment_method_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_credit_cards_on_address_id" ON "spree_credit_cards" ("address_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_credit_cards"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_credit_cards"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093882"]]
  [1m[35m (8.3ms)[0m  commit transaction
Migrating to AddDeletedAtToSpreePromotionActions (20180305093883)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_promotion_actions" ADD "deleted_at" datetime
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_actions_on_promotion_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_actions_on_promotion_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_actions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_actions_on_id_and_type' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_promotion_actions_on_deleted_at" ON "spree_promotion_actions" ("deleted_at")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093883"]]
  [1m[36m (11.0ms)[0m  [1mcommit transaction[0m
Migrating to RemoveUncapturedAmountFromSpreePayments (20180305093884)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar, "payment_method_id" integer, "state" varchar, "response_code" varchar, "avs_response" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "identifier" varchar, "cvv_response_code" varchar, "cvv_response_message" varchar, "uncaptured_amount" decimal(10,2) DEFAULT '0.0') [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_payments_on_source_id_and_source_type" ON "aspree_payments" ("source_id", "source_type")[0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "tindex_aspree_payments_on_payment_method_id" ON "aspree_payments" ("payment_method_id")
  [1m[36m (0.5ms)[0m  [1mCREATE  INDEX "tindex_aspree_payments_on_order_id" ON "aspree_payments" ("order_id")[0m
  [1m[35m (0.3ms)[0m  SELECT * FROM "spree_payments"
  [1m[36m (1.1ms)[0m  [1mDROP TABLE "spree_payments"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar, "payment_method_id" integer, "state" varchar, "response_code" varchar, "avs_response" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "identifier" varchar, "cvv_response_code" varchar, "cvv_response_message" varchar) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payments_on_payment_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payments_on_source_id_and_source_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_payments_on_payment_method_id" ON "spree_payments" ("payment_method_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_payments_on_source_id_and_source_type" ON "spree_payments" ("source_id", "source_type")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_payments"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_payments"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093884"]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeRefunds (20180305093885)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "spree_refunds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payment_id" integer, "return_authorization_id" integer, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "transaction_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093885"]]
  [1m[36m (10.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeReturnAuthorizationInventoryUnit (20180305093886)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "spree_return_authorization_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "received_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093886"]]
  [1m[36m (10.4ms)[0m  [1mcommit transaction[0m
Migrating to RenameReturnAuthorizationInventoryUnitToReturnItems (20180305093887)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_return_authorization_inventory_units" RENAME TO "spree_return_items"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093887"]]
  [1m[36m (9.7ms)[0m  [1mcommit transaction[0m
Migrating to BackfillLineItemPreTaxAmount (20180305093888)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m      UPDATE spree_line_items
      SET pre_tax_amount = ((price * quantity) + promo_total) - included_tax_total
      WHERE pre_tax_amount IS NULL;
[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093888"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Migrating to RecreateSpreeReturnAuthorizations (20180305093889)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::ReturnAuthorization Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorizations" LIMIT 1[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_return_authorizations"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pending" boolean DEFAULT 't', "line_item_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_inventory_units_on_return_authorization_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_inventory_units_on_return_authorization_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_inventory_units_on_line_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_inventory_units_on_line_item_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_inventory_units_on_return_authorization_id" ON "aspree_inventory_units" ("return_authorization_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_inventory_units_on_line_item_id" ON "aspree_inventory_units" ("line_item_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_inventory_units_on_variant_id" ON "aspree_inventory_units" ("variant_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_inventory_units_on_shipment_id" ON "aspree_inventory_units" ("shipment_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_inventory_units_on_order_id" ON "aspree_inventory_units" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_inventory_units"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_inventory_units"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "variant_id" integer, "order_id" integer, "shipment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pending" boolean DEFAULT 't', "line_item_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_inventory_units_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_inventory_units_on_shipment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_inventory_units_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_inventory_units_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_inventory_units_on_line_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_inventory_units_on_line_item_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_inventory_units_on_return_authorization_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_inventory_units_on_return_authorization_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_inventory_units_on_order_id" ON "spree_inventory_units" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_inventory_units_on_shipment_id" ON "spree_inventory_units" ("shipment_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_inventory_units_on_variant_id" ON "spree_inventory_units" ("variant_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_inventory_units_on_line_item_id" ON "spree_inventory_units" ("line_item_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_inventory_units"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_inventory_units"[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "spree_adjustments" SET "source_type" = 'Spree::LegacyReturnAuthorization' WHERE "spree_adjustments"."source_type" = ?  [["source_type", "Spree::ReturnAuthorization"]]
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "state" varchar, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "stock_location_id" integer) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093889"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Migrating to AddAmountFieldsToReturnItems (20180305093890)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_return_items" ADD "pre_tax_amount" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_return_items" ADD "included_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_return_items" ADD "additional_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093890"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Migrating to DropReturnAuthorizationAmount (20180305093891)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "state" varchar, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "order_id" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "stock_location_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_return_authorizations"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_return_authorizations"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "state" varchar, "order_id" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "stock_location_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_return_authorizations"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_return_authorizations"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093891"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to CreateSpreeReturnAuthorizationReasons (20180305093892)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_return_authorization_reasons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "active" boolean DEFAULT 't', "mutable" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('Better price available') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Better price available"], ["created_at", "2018-03-05 09:37:49.678336"], ["updated_at", "2018-03-05 09:37:49.678336"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('Missed estimated delivery date') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Missed estimated delivery date"], ["created_at", "2018-03-05 09:37:49.680914"], ["updated_at", "2018-03-05 09:37:49.680914"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('Missing parts or accessories') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Missing parts or accessories"], ["created_at", "2018-03-05 09:37:49.682679"], ["updated_at", "2018-03-05 09:37:49.682679"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('Damaged/Defective') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Damaged/Defective"], ["created_at", "2018-03-05 09:37:49.684416"], ["updated_at", "2018-03-05 09:37:49.684416"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('Different from what was ordered') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Different from what was ordered"], ["created_at", "2018-03-05 09:37:49.686255"], ["updated_at", "2018-03-05 09:37:49.686255"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('Different from description') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Different from description"], ["created_at", "2018-03-05 09:37:49.688582"], ["updated_at", "2018-03-05 09:37:49.688582"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('No longer needed/wanted') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "No longer needed/wanted"], ["created_at", "2018-03-05 09:37:49.690483"], ["updated_at", "2018-03-05 09:37:49.690483"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('Accidental order') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Accidental order"], ["created_at", "2018-03-05 09:37:49.692176"], ["updated_at", "2018-03-05 09:37:49.692176"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER('Unauthorized purchase') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Unauthorized purchase"], ["created_at", "2018-03-05 09:37:49.693847"], ["updated_at", "2018-03-05 09:37:49.693847"]]
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_return_authorizations" ADD "return_authorization_reason_id" integer[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_return_authorizations_on_return_authorization_reason_id" ON "spree_return_authorizations" ("return_authorization_reason_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093892"]]
  [1m[35m (7.8ms)[0m  commit transaction
Migrating to CreateSpreeRefundReasons (20180305093893)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_refund_reasons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "active" boolean DEFAULT 't', "mutable" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_refunds" ADD "refund_reason_id" integer[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_refunds_on_refund_reason_id" ON "spree_refunds" ("refund_reason_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093893"]]
  [1m[35m (11.1ms)[0m  commit transaction
Migrating to RenameReturnAuthorizationReason (20180305093894)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "state" varchar, "order_id" integer, "memo" text, "created_at" datetime, "updated_at" datetime, "stock_location_id" integer, "return_authorization_reason_id" integer) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_return_authorizations_on_return_authorization_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_return_authorizations_on_return_authorization_reason_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_return_authorizations_on_return_authorization_reason_id" ON "aspree_return_authorizations" ("return_authorization_reason_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_return_authorizations"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_return_authorizations"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "state" varchar, "order_id" integer, "memo" text, "created_at" datetime, "updated_at" datetime, "stock_location_id" integer, "return_authorization_reason_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_return_authorizations_on_return_authorization_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_return_authorizations_on_return_authorization_reason_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_return_authorizations_on_return_authorization_reason_id" ON "spree_return_authorizations" ("return_authorization_reason_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_return_authorizations"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_return_authorizations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_return_authorizations_on_return_authorization_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_return_authorizations_on_return_authorization_reason_id' AND type='index'

  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093894"]]
  [1m[35m (7.8ms)[0m  commit transaction
Migrating to CreateSpreePromotionCategories (20180305093895)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_promotion_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_promotions" ADD "promotion_category_id" integer[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_advertise' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_advertise' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_starts_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_starts_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_expires_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_expires_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_code' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_promotions_on_promotion_category_id" ON "spree_promotions" ("promotion_category_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093895"]]
  [1m[36m (11.1ms)[0m  [1mcommit transaction[0m
Migrating to DropReceivedAtOnReturnItems (20180305093896)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "received_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pre_tax_amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_return_items"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_return_items"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pre_tax_amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_return_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_return_items"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093896"]]
  [1m[35m (9.7ms)[0m  commit transaction
Migrating to AddReceptionAndAcceptanceStatusToReturnItems (20180305093897)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_return_items" ADD "reception_status" varchar
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_return_items" ADD "acceptance_status" varchar[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093897"]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateDefaultRefundReason (20180305093898)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::RefundReason Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "spree_refund_reasons" WHERE LOWER("spree_refund_reasons"."name") = LOWER('Return processing') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spree_refund_reasons" ("name", "mutable", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Return processing"], ["mutable", "f"], ["created_at", "2018-03-05 09:37:49.799711"], ["updated_at", "2018-03-05 09:37:49.799711"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093898"]]
  [1m[35m (19.1ms)[0m  commit transaction
Migrating to AddDefaultToSpreeStockLocations (20180305093899)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093899"]]
  [1m[36m (11.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeCustomerReturns (20180305093900)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spree_customer_returns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "stock_location_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093900"]]
  [1m[36m (14.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCustomerReturnIdToReturnItem (20180305093901)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "spree_return_items" ADD "customer_return_id" integer[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_return_items_on_customer_return_id" ON "spree_return_items" ("customer_return_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093901"]]
  [1m[35m (15.9ms)[0m  commit transaction
Migrating to CreateFriendlyIdSlugs (20180305093902)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "friendly_id_slugs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "slug" varchar NOT NULL, "sluggable_id" integer NOT NULL, "sluggable_type" varchar(50), "scope" varchar, "created_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_friendly_id_slugs_on_sluggable_id" ON "friendly_id_slugs" ("sluggable_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_friendly_id_slugs_on_slug_and_sluggable_type" ON "friendly_id_slugs" ("slug", "sluggable_type")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope" ON "friendly_id_slugs" ("slug", "sluggable_type", "scope")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_friendly_id_slugs_on_sluggable_type" ON "friendly_id_slugs" ("sluggable_type")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093902"]]
  [1m[35m (15.9ms)[0m  commit transaction
Migrating to RenameSpreeRefundReturnAuthorizationId (20180305093903)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_refunds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payment_id" integer, "customer_return_id" integer, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "transaction_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "refund_reason_id" integer) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_refunds_on_refund_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_refunds_on_refund_reason_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_refunds_on_refund_reason_id" ON "aspree_refunds" ("refund_reason_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_refunds"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_refunds"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_refunds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payment_id" integer, "customer_return_id" integer, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "transaction_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "refund_reason_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_refunds_on_refund_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_refunds_on_refund_reason_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_refunds_on_refund_reason_id" ON "spree_refunds" ("refund_reason_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_refunds"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_refunds"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_refunds_on_refund_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_refunds_on_refund_reason_id' AND type='index'

  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093903"]]
  [1m[35m (14.0ms)[0m  commit transaction
Migrating to IncreaseReturnItemPreTaxAmountPrecision (20180305093904)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pre_tax_amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "reception_status" varchar, "acceptance_status" varchar, "customer_return_id" integer) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_return_items_on_customer_return_id" ON "aspree_return_items" ("customer_return_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_return_items"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_return_items"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pre_tax_amount" decimal(12,4) DEFAULT 0.0 NOT NULL, "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "reception_status" varchar, "acceptance_status" varchar, "customer_return_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_return_items_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_return_items_on_customer_return_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_return_items_on_customer_return_id" ON "spree_return_items" ("customer_return_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_return_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_return_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pre_tax_amount" decimal(12,4) DEFAULT '0.0' NOT NULL, "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "reception_status" varchar, "acceptance_status" varchar, "customer_return_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_return_items_on_customer_return_id" ON "aspree_return_items" ("customer_return_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_return_items"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_return_items"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pre_tax_amount" decimal(12,4) DEFAULT '0.0' NOT NULL, "included_tax_total" decimal(12,4) DEFAULT 0.0 NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "reception_status" varchar, "acceptance_status" varchar, "customer_return_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_return_items_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_return_items_on_customer_return_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_return_items_on_customer_return_id" ON "spree_return_items" ("customer_return_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_return_items"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_return_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pre_tax_amount" decimal(12,4) DEFAULT '0.0' NOT NULL, "included_tax_total" decimal(12,4) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "reception_status" varchar, "acceptance_status" varchar, "customer_return_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_return_items_on_customer_return_id" ON "aspree_return_items" ("customer_return_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_return_items"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_return_items"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "pre_tax_amount" decimal(12,4) DEFAULT '0.0' NOT NULL, "included_tax_total" decimal(12,4) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(12,4) DEFAULT 0.0 NOT NULL, "reception_status" varchar, "acceptance_status" varchar, "customer_return_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_return_items_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_return_items_on_customer_return_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_return_items_on_customer_return_id" ON "spree_return_items" ("customer_return_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_return_items"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_return_items"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093904"]]
  [1m[36m (11.2ms)[0m  [1mcommit transaction[0m
Migrating to CopyProductSlugsToSlugHistory (20180305093905)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mINSERT INTO friendly_id_slugs (slug, sluggable_id, sluggable_type, created_at)
  SELECT slug, id, 'Spree::Product', '2018-03-05 09:37:49.961608' 
  FROM spree_products
  WHERE slug IS NOT NULL
  ORDER BY id
[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093905"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeReimbursements (20180305093906)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_reimbursements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar, "reimbursement_status" varchar, "customer_return_id" integer, "order_id" integer, "total" decimal(10,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_reimbursements_on_customer_return_id" ON "spree_reimbursements" ("customer_return_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_reimbursements_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_reimbursements_on_customer_return_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_reimbursements_on_order_id" ON "spree_reimbursements" ("order_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_refunds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payment_id" integer, "customer_return_id" integer, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "transaction_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "refund_reason_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_refunds_on_refund_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_refunds_on_refund_reason_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_refunds_on_refund_reason_id" ON "aspree_refunds" ("refund_reason_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_refunds"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_refunds"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_refunds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payment_id" integer, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "transaction_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "refund_reason_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_refunds_on_refund_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_refunds_on_refund_reason_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_refunds_on_refund_reason_id" ON "spree_refunds" ("refund_reason_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_refunds"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_refunds"
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_refunds" ADD "reimbursement_id" integer[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_return_items" ADD "reimbursement_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093906"]]
  [1m[35m (9.5ms)[0m  commit transaction
Migrating to AddPromotionableToSpreeProducts (20180305093907)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_products" ADD "promotionable" boolean DEFAULT 't'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093907"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to AddExchangeInventoryUnitForeignKeys (20180305093908)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_return_items" ADD "exchange_inventory_unit_id" integer
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_return_items_on_exchange_inventory_unit_id" ON "spree_return_items" ("exchange_inventory_unit_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093908"]]
  [1m[35m (10.5ms)[0m  commit transaction
Migrating to AddAcceptanceStatusErrorsToReturnItem (20180305093909)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_return_items" ADD "acceptance_status_errors" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093909"]]
  [1m[35m (8.1ms)[0m  commit transaction
Migrating to CreateSpreeReimbursementTypes (20180305093910)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_reimbursement_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "active" boolean DEFAULT 't', "mutable" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSpree::ReimbursementType Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_reimbursement_types" WHERE LOWER("spree_reimbursement_types"."name") = LOWER('original') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spree_reimbursement_types" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "original"], ["created_at", "2018-03-05 09:37:50.036582"], ["updated_at", "2018-03-05 09:37:50.036582"]]
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_return_items" ADD "preferred_reimbursement_type_id" integer[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_return_items" ADD "override_reimbursement_type_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093910"]]
  [1m[35m (10.6ms)[0m  commit transaction
Migrating to AddDefaultToShipmentCost (20180305093911)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2)) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_shipments_on_address_id" ON "aspree_shipments" ("address_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_shipments_on_stock_location_id" ON "aspree_shipments" ("stock_location_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_shipments_on_order_id" ON "aspree_shipments" ("order_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_shipments_on_number" ON "aspree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipments"[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spree_shipments"
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(10,2) DEFAULT 0.0, "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2)) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_address_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_shipments_on_number" ON "spree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipments_on_stock_location_id" ON "spree_shipments" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipments_on_address_id" ON "spree_shipments" ("address_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipments"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_shipments"[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "spree_shipments" SET "cost" = 0 WHERE "spree_shipments"."cost" IS NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093911"]]
  [1m[35m (7.9ms)[0m  commit transaction
Migrating to AddDefaultToSpreeCreditCards (20180305093912)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_credit_cards" ADD "default" boolean DEFAULT 'f' NOT NULL
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093912"]]
  [1m[35m (7.5ms)[0m  commit transaction
Migrating to MakeExistingCreditCardsDefault (20180305093913)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "spree_credit_cards" SET "default" = 't' WHERE "spree_credit_cards"."id" IN (SELECT "spree_credit_cards"."id" FROM "spree_credit_cards" LEFT OUTER JOIN spree_credit_cards cc2 ON cc2.user_id = spree_credit_cards.user_id AND spree_credit_cards.created_at < cc2.created_at WHERE ("spree_credit_cards"."user_id" IS NOT NULL) AND (cc2.user_id IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093913"]]
  [1m[35m (8.0ms)[0m  commit transaction
Migrating to AddTypeToReimbursementType (20180305093914)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_reimbursement_types" ADD "type" varchar
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_reimbursement_types_on_type" ON "spree_reimbursement_types" ("type")[0m
  [1m[35mSpree::ReimbursementType Load (0.2ms)[0m  SELECT  "spree_reimbursement_types".* FROM "spree_reimbursement_types" WHERE "spree_reimbursement_types"."name" = ?  ORDER BY LOWER(spree_reimbursement_types.name) LIMIT 1  [["name", "original"]]
  [1m[36mSpree::ReimbursementType Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "spree_reimbursement_types" WHERE (LOWER("spree_reimbursement_types"."name") = LOWER('original') AND "spree_reimbursement_types"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "spree_reimbursement_types" SET "type" = ?, "updated_at" = ? WHERE "spree_reimbursement_types"."id" = ?  [["type", "Spree::ReimbursementType::OriginalPayment"], ["updated_at", "2018-03-05 09:37:50.121418"], ["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093914"]]
  [1m[35m (8.0ms)[0m  commit transaction
Migrating to CreateSpreeReimbursementCredits (20180305093915)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_reimbursement_credits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "reimbursement_id" integer, "creditable_id" integer, "creditable_type" varchar) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093915"]]
  [1m[35m (9.5ms)[0m  commit transaction
Migrating to AddMetaTitleToSpreeProducts (20180305093916)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_products" ADD "meta_title" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093916"]]
  [1m[35m (8.2ms)[0m  commit transaction
Migrating to AddKindToZone (20180305093917)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_zones" ADD "kind" varchar
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_zones_on_default_tax' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_zones_on_default_tax' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_zones_on_kind" ON "spree_zones" ("kind")
  [1m[36mSpree::Zone Load (0.1ms)[0m  [1mSELECT  "spree_zones".* FROM "spree_zones"  ORDER BY "spree_zones"."id" ASC LIMIT 1000[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093917"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCodeToSpreeTaxCategories (20180305093918)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_tax_categories" ADD "tax_code" varchar[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093918"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to DefaultPreTaxAmountShouldBeZero (20180305093919)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(10,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2)) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_line_items_on_tax_category_id" ON "aspree_line_items" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_line_items_on_variant_id" ON "aspree_line_items" ("variant_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_line_items_on_order_id" ON "aspree_line_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "spree_line_items"
  [1m[36m (0.7ms)[0m  [1mDROP TABLE "spree_line_items"[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(10,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2) DEFAULT 0) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_tax_category_id" ON "spree_line_items" ("tax_category_id")[0m
  [1m[35m (0.3ms)[0m  SELECT * FROM "aspree_line_items"
  [1m[36m (0.8ms)[0m  [1mDROP TABLE "aspree_line_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(10,2) DEFAULT '0.0', "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2)) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_shipments_on_address_id" ON "aspree_shipments" ("address_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_shipments_on_stock_location_id" ON "aspree_shipments" ("stock_location_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_shipments_on_order_id" ON "aspree_shipments" ("order_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_shipments_on_number" ON "aspree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipments"[0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spree_shipments"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(10,2) DEFAULT '0.0', "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2) DEFAULT 0) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_address_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_shipments_on_number" ON "spree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipments_on_stock_location_id" ON "spree_shipments" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipments_on_address_id" ON "spree_shipments" ("address_id")[0m
  [1m[35m (0.3ms)[0m  SELECT * FROM "aspree_shipments"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "aspree_shipments"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093919"]]
  [1m[36m (10.8ms)[0m  [1mcommit transaction[0m
Migrating to AddCodeToSpreeShippingMethods (20180305093920)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_shipping_methods" ADD "code" varchar[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093920"]]
  [1m[36m (8.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCancelAuditFieldsToSpreeOrders (20180305093921)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "spree_orders" ADD "canceled_at" datetime[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ADD "canceler_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093921"]]
  [1m[35m (7.5ms)[0m  commit transaction
Migrating to AddStoreIdToOrders (20180305093922)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_orders" ADD "store_id" integer
  [1m[36mSpree::Store Load (0.2ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = ?  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "spree_orders" SET "store_id" = 1 WHERE "spree_orders"."store_id" IS NULL
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093922"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to CreateSpreeTaxonsPrototypes (20180305093923)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_taxons_prototypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "taxon_id" integer, "prototype_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxons_prototypes_on_taxon_id" ON "spree_taxons_prototypes" ("taxon_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxons_prototypes_on_prototype_id" ON "spree_taxons_prototypes" ("prototype_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093923"]]
  [1m[36m (10.4ms)[0m  [1mcommit transaction[0m
Migrating to AddStateLockVersionToOrder (20180305093924)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_orders" ADD "state_lock_version" integer DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093924"]]
  [1m[36m (9.3ms)[0m  [1mcommit transaction[0m
Migrating to AddCounterCacheFromSpreeVariantsToSpreeStockItems (20180305093925)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_variants" ADD "stock_items_count" integer DEFAULT 0 NOT NULL[0m
  [1m[35mSpree::Variant Load (0.2ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL  ORDER BY "spree_variants"."id" ASC LIMIT 1000
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093925"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to FixAdjustmentOrderPresence (20180305093926)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::Adjustment Load (0.2ms)[0m  SELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" IS NULL  ORDER BY "spree_adjustments"."id" ASC LIMIT 1000
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093926"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to UpdateClassificationsPositions (20180305093927)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::Taxon Load (0.2ms)[0m  SELECT "spree_taxons".* FROM "spree_taxons"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093927"]]
  [1m[35m (7.6ms)[0m  commit transaction
Migrating to AddGuestTokenIndexToSpreeOrders (20180305093928)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_guest_token" ON "spree_orders" ("guest_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093928"]]
  [1m[36m (10.2ms)[0m  [1mcommit transaction[0m
Migrating to RemoveTokenPermissionsTable (20180305093929)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "spree_tokenized_permissions"[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093929"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveExtraProductsSlugIndex (20180305093930)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_slug' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='permalink_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='permalink_idx_unique' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "permalink_idx_unique"
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093930"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to UpdateProductSlugIndex (20180305093931)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_slug' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_slug' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_spree_products_on_slug"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "index_spree_products_on_slug" ON "spree_products" ("slug")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093931"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to RenameIdentifierToNumberForPayment (20180305093932)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar, "payment_method_id" integer, "state" varchar, "response_code" varchar, "avs_response" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "number" varchar, "cvv_response_code" varchar, "cvv_response_message" varchar) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_payments_on_source_id_and_source_type" ON "aspree_payments" ("source_id", "source_type")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_payments_on_payment_method_id" ON "aspree_payments" ("payment_method_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_payments_on_order_id" ON "aspree_payments" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_payments"[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spree_payments"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT '0.0' NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar, "payment_method_id" integer, "state" varchar, "response_code" varchar, "avs_response" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "number" varchar, "cvv_response_code" varchar, "cvv_response_message" varchar) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payments_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payments_on_source_id_and_source_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_payments_on_payment_method_id" ON "spree_payments" ("payment_method_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_payments_on_source_id_and_source_type" ON "spree_payments" ("source_id", "source_type")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_payments"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_payments"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093932"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeStoreCredits (20180305093933)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spree_store_credits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "category_id" integer, "created_by_id" integer, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "amount_used" decimal(8,2) DEFAULT 0.0 NOT NULL, "memo" text, "deleted_at" datetime, "currency" varchar, "amount_authorized" decimal(8,2) DEFAULT 0.0 NOT NULL, "originator_id" integer, "originator_type" varchar, "type_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_store_credits_on_deleted_at" ON "spree_store_credits" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_store_credits_on_user_id" ON "spree_store_credits" ("user_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_deleted_at' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_store_credits_on_type_id" ON "spree_store_credits" ("type_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_type_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "spree_store_credits_originator" ON "spree_store_credits" ("originator_id", "originator_type")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093933"]]
  [1m[36m (10.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeStoreCreditCategories (20180305093934)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_store_credit_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093934"]]
  [1m[36m (11.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeStoreCreditEvents (20180305093935)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spree_store_credit_events" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "store_credit_id" integer NOT NULL, "action" varchar NOT NULL, "amount" decimal(8,2), "authorization_code" varchar NOT NULL, "user_total_amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "originator_id" integer, "originator_type" varchar, "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_store_credit_events_on_store_credit_id" ON "spree_store_credit_events" ("store_credit_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credit_events_on_store_credit_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credit_events_on_store_credit_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "spree_store_credit_events_originator" ON "spree_store_credit_events" ("originator_id", "originator_type")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093935"]]
  [1m[35m (9.7ms)[0m  commit transaction
Migrating to CreateSpreeStoreCreditTypes (20180305093936)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_store_credit_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "priority" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_store_credit_types_on_priority" ON "spree_store_credit_types" ("priority")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093936"]]
  [1m[36m (9.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveEnvironmentFromPaymentMethod (20180305093937)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "spree_payment_methods" SET "active" = 'f' WHERE "spree_payment_methods"."deleted_at" IS NULL AND (environment != 'test')[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "name" varchar, "description" text, "active" boolean DEFAULT 't', "environment" varchar DEFAULT 'development', "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "display_on" varchar, "auto_capture" boolean, "preferences" text) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payment_methods_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payment_methods_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_payment_methods_on_id_and_type" ON "aspree_payment_methods" ("id", "type")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_payment_methods"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_payment_methods"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "name" varchar, "description" text, "active" boolean DEFAULT 't', "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "display_on" varchar, "auto_capture" boolean, "preferences" text) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payment_methods_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payment_methods_on_id_and_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_payment_methods_on_id_and_type" ON "spree_payment_methods" ("id", "type")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_payment_methods"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_payment_methods"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093937"]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
Migrating to AddResellableToReturnItems (20180305093938)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_return_items" ADD "resellable" boolean DEFAULT 't' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093938"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Migrating to AddCodeToSpreePromotionCategories (20180305093939)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_promotion_categories" ADD "code" varchar[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093939"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveEnvironmentFromTracker (20180305093940)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "spree_trackers" SET "active" = 'f' WHERE (environment != 'test')[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_trackers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "environment" varchar, "analytics_id" varchar, "active" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_trackers_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_trackers_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_trackers_on_active" ON "aspree_trackers" ("active")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_trackers"[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spree_trackers"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_trackers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "analytics_id" varchar, "active" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_trackers_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_trackers_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_trackers_on_active" ON "spree_trackers" ("active")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_trackers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_trackers"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093940"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveSpreeConfigurations (20180305093941)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_configurations"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093941"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
Migrating to AddIndexToSpreeStockItemsVariantId (20180305093942)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_backorderable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_backorderable' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_backorderable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_backorderable' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_stock_items_on_variant_id" ON "spree_stock_items" ("variant_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093942"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Migrating to EnsurePaymentsHaveNumbers (20180305093943)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_payments_on_number" ON "spree_payments" ("number")[0m
Scoped order and limit are ignored, it's forced to be batch order and batch size
  [1m[35mSpree::Payment Load (0.2ms)[0m  SELECT  "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."number" IS NULL  ORDER BY "spree_payments"."id" ASC LIMIT 1000
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093943"]]
  [1m[35m (7.8ms)[0m  commit transaction
Migrating to AddMissingIndexesOnSpreeTables (20180305093944)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_promotion_rules_users_on_user_id_and_promotion_rule_id" ON "spree_promotion_rules_users" ("user_id", "promotion_rule_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_products_promotion_rules_on_promotion_rule_and_product" ON "spree_products_promotion_rules" ("promotion_rule_id", "product_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_canceler_id" ON "spree_orders" ("canceler_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_store_id" ON "spree_orders" ("store_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_order_id_and_promotion_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_order_id_and_promotion_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_order_id_and_promotion_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_order_id_and_promotion_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_promotions_on_promotion_id_and_order_id" ON "spree_orders_promotions" ("promotion_id", "order_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_properties_prototypes_on_prototype_id" ON "spree_properties_prototypes" ("prototype_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_properties_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_properties_prototypes_on_prototype_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_properties_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_properties_prototypes_on_prototype_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_properties_prototypes_on_prototype_and_property" ON "spree_properties_prototypes" ("prototype_id", "property_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxons_prototypes_on_prototype_id_and_taxon_id" ON "spree_taxons_prototypes" ("prototype_id", "taxon_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_option_types_prototypes_on_prototype_id" ON "spree_option_types_prototypes" ("prototype_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_prototypes_on_prototype_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_prototypes_on_prototype_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_option_types_prototypes_on_prototype_and_option_type" ON "spree_option_types_prototypes" ("prototype_id", "option_type_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_variants_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_variants_on_variant_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_variants_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_variants_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_option_values_variants_on_option_value_and_variant" ON "spree_option_values_variants" ("option_value_id", "variant_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093944"]]
  [1m[35m (10.6ms)[0m  commit transaction
Migrating to RemoveDuplicatedIndexesFromMultiColumns (20180305093945)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_id_and_source_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_adjustments_on_order_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_adjustments_on_order_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_prototypes_on_prototype_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_spree_option_types_prototypes_on_prototype_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_option_types_prototypes_on_option_type_id" ON "spree_option_types_prototypes" ("option_type_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_option_value_and_variant' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_option_value_and_variant' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_variants_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_variants_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_option_values_variants_on_option_value_and_variant"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_variants_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_variants_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_option_values_variants_on_variant_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_option_values_variants_on_option_value_id" ON "spree_option_values_variants" ("option_value_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_store_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_store_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_spree_orders_on_user_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_order_id_and_promotion_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_order_id_and_promotion_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_orders_promotions_on_order_id_and_promotion_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_promotions_on_order_id" ON "spree_orders_promotions" ("order_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_and_product' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_and_product' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_products_promotion_rules_on_promotion_rule_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_promotion_rules_users_on_user_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_properties_prototypes_on_prototype_and_property' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_properties_prototypes_on_prototype_and_property' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_properties_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_properties_prototypes_on_prototype_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_spree_properties_prototypes_on_prototype_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_backorderable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_backorderable' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_stock_location_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_spree_stock_items_on_stock_location_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_spree_taxons_prototypes_on_prototype_id"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093945"]]
  [1m[35m (8.2ms)[0m  commit transaction
Migrating to RemoveUserIndexFromSpreeStateChanges (20180305093946)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_state_changes_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_state_changes_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_state_changes_on_stateful_id_and_stateful_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_state_changes_on_stateful_id_and_stateful_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_state_changes_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_state_changes_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_state_changes_on_stateful_id_and_stateful_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_state_changes_on_stateful_id_and_stateful_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_spree_state_changes_on_user_id"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093946"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to FixAdjustmentOrderId (20180305093947)
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE spree_adjustments SET order_id = adjustable_id WHERE adjustable_type = 'Spree::Order' ;
  [1m[36m (0.1ms)[0m  [1mUPDATE spree_adjustments SET order_id = (SELECT order_id FROM spree_line_items WHERE spree_line_items.id = spree_adjustments.adjustable_id) WHERE adjustable_type = 'Spree::LineItem'[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "amount" decimal(10,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar, "order_id" integer, "included" boolean DEFAULT 'f') 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_id_and_source_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_adjustments_on_source_id_and_source_type" ON "aspree_adjustments" ("source_id", "source_type")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_adjustments_on_order_id" ON "aspree_adjustments" ("order_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_adjustments_on_eligible" ON "aspree_adjustments" ("eligible")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_adjustments_on_adjustable_id_and_adjustable_type" ON "aspree_adjustments" ("adjustable_id", "adjustable_type")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_adjustments"[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spree_adjustments"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar, "adjustable_id" integer, "adjustable_type" varchar, "amount" decimal(10,2), "label" varchar, "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar, "order_id" integer NOT NULL, "included" boolean DEFAULT 'f') [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_adjustments_on_eligible' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_adjustments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_adjustments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_adjustments_on_source_id_and_source_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_adjustments_on_adjustable_id_and_adjustable_type" ON "spree_adjustments" ("adjustable_id", "adjustable_type")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_adjustments_on_eligible" ON "spree_adjustments" ("eligible")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_adjustments_on_order_id" ON "spree_adjustments" ("order_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_adjustments_on_source_id_and_source_type" ON "spree_adjustments" ("source_id", "source_type")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_adjustments"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093947"]]
  [1m[36m (8.5ms)[0m  [1mcommit transaction[0m
Migrating to AddPositionToSpreePaymentMethods (20180305093948)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_payment_methods" ADD "position" integer DEFAULT 0[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093948"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Migrating to AddDeletedAtToFriendlyIdSlugs (20180305093949)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "friendly_id_slugs" ADD "deleted_at" datetime[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_sluggable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_sluggable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_friendly_id_slugs_on_deleted_at" ON "friendly_id_slugs" ("deleted_at")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093949"]]
  [1m[35m (8.0ms)[0m  commit transaction
Migrating to IncreaseScaleOnPreTaxAmounts (20180305093950)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m        UPDATE spree_shipments
      SET pre_tax_amount = (cost + promo_total) - included_tax_total
      WHERE pre_tax_amount IS NULL;

  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(10,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2) DEFAULT '0') [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_line_items_on_tax_category_id" ON "aspree_line_items" ("tax_category_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_line_items_on_variant_id" ON "aspree_line_items" ("variant_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_line_items_on_order_id" ON "aspree_line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_line_items"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_line_items"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "cost_price" decimal(10,2), "tax_category_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(12,4) DEFAULT 0.0 NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_line_items_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_line_items_on_tax_category_id" ON "spree_line_items" ("tax_category_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_line_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_line_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(10,2) DEFAULT '0.0', "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(8,2) DEFAULT '0') 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_shipments_on_address_id" ON "aspree_shipments" ("address_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_shipments_on_stock_location_id" ON "aspree_shipments" ("stock_location_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_shipments_on_order_id" ON "aspree_shipments" ("order_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_shipments_on_number" ON "aspree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipments"[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spree_shipments"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar, "number" varchar, "cost" decimal(10,2) DEFAULT '0.0', "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock_location_id" integer, "adjustment_total" decimal(10,2) DEFAULT '0.0', "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "pre_tax_amount" decimal(12,4) DEFAULT 0.0 NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_shipments_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_shipments_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_shipments_on_address_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_shipments_on_number" ON "spree_shipments" ("number")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipments_on_stock_location_id" ON "spree_shipments" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_shipments_on_address_id" ON "spree_shipments" ("address_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipments"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_shipments"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093950"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
Migrating to AddTaxableAdjustmentTotalToLineItem (20180305093951)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_line_items" ADD "taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_line_items" ADD "non_taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_shipments" ADD "taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_shipments" ADD "non_taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_orders" ADD "taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ADD "non_taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093951"]]
  [1m[35m (7.8ms)[0m  commit transaction
Migrating to MigratePaymentMethodsDisplay (20180305093952)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::PaymentMethod Load (0.2ms)[0m  SELECT "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL
  [1m[36m (0.4ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "name" varchar, "description" text, "active" boolean DEFAULT 't', "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "display_on" varchar, "auto_capture" boolean, "preferences" text, "position" integer DEFAULT 0) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payment_methods_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payment_methods_on_id_and_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_payment_methods_on_id_and_type" ON "aspree_payment_methods" ("id", "type")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_payment_methods"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_payment_methods"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "name" varchar, "description" text, "active" boolean DEFAULT 't', "deleted_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "display_on" varchar DEFAULT 'both', "auto_capture" boolean, "preferences" text, "position" integer DEFAULT 0) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_payment_methods_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_payment_methods_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_payment_methods_on_id_and_type" ON "spree_payment_methods" ("id", "type")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_payment_methods"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_payment_methods"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093952"]]
  [1m[35m (7.7ms)[0m  commit transaction
Migrating to EnableActsAsParanoidOnCalculators (20180305093953)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_calculators" ADD "deleted_at" datetime
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_calculators_on_calculable_id_and_calculable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_calculators_on_calculable_id_and_calculable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_calculators_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_calculators_on_id_and_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_calculators_on_deleted_at" ON "spree_calculators" ("deleted_at")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093953"]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
Migrating to SpreePaymentMethodStoreCredits (20180305093954)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::PaymentMethod::StoreCredit Load (0.2ms)[0m  [1mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."type" IN ('Spree::PaymentMethod::StoreCredit') AND "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."name" = ? AND "spree_payment_methods"."description" = ? AND "spree_payment_methods"."active" = ? AND "spree_payment_methods"."display_on" = ? LIMIT 1[0m  [["name", "Store Credit"], ["description", "Store Credit"], ["active", "t"], ["display_on", "back_end"]]
  [1m[35mSpree::PaymentMethod::StoreCredit Load (0.3ms)[0m  SELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE (1 = 1) AND ("spree_payment_methods"."position" IS NOT NULL)  ORDER BY "spree_payment_methods"."position" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spree_payment_methods" ("type", "name", "description", "display_on", "created_at", "updated_at", "position") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["type", "Spree::PaymentMethod::StoreCredit"], ["name", "Store Credit"], ["description", "Store Credit"], ["display_on", "back_end"], ["created_at", "2018-03-05 09:37:50.865192"], ["updated_at", "2018-03-05 09:37:50.865192"], ["position", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093954"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
Migrating to RenameHasAndBelongsToAssociationsToModelNames (20180305093955)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_option_types_prototypes" RENAME TO "spree_option_type_prototypes"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_prototypes_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_prototypes_on_option_type_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_prototypes_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_prototypes_on_option_type_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_prototypes_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_prototypes_on_option_type_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_option_type_prototypes_on_option_type_id" ON "spree_option_type_prototypes" ("option_type_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_type_prototypes_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_type_prototypes_on_option_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_prototypes_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_prototypes_on_option_type_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_spree_option_types_prototypes_on_option_type_id"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_option_values_variants" RENAME TO "spree_option_value_variants"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_variants_on_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_variants_on_option_value_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_variants_on_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_variants_on_option_value_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_variants_on_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_variants_on_option_value_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_option_value_variants_on_option_value_id" ON "spree_option_value_variants" ("option_value_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_value_variants_on_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_value_variants_on_option_value_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_variants_on_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_variants_on_option_value_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_spree_option_values_variants_on_option_value_id"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_orders_promotions" RENAME TO "spree_order_promotions"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_order_promotions_on_order_id" ON "spree_order_promotions" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_spree_orders_promotions_on_order_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_order_promotions_on_promotion_id_and_order_id" ON "spree_order_promotions" ("promotion_id", "order_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_promotion_id_and_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_promotions_on_promotion_id_and_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_orders_promotions_on_promotion_id_and_order_id"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_products_promotion_rules" RENAME TO "spree_product_promotion_rules"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_and_product' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_and_product' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'

  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_taxons_promotion_rules" RENAME TO "spree_promotion_rule_taxons"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_promotion_rule_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_promotion_rule_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_promotion_rule_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_promotion_rule_taxons_on_promotion_rule_id" ON "spree_promotion_rule_taxons" ("promotion_rule_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_promotion_rule_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_spree_taxons_promotion_rules_on_promotion_rule_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_promotion_rule_taxons_on_taxon_id" ON "spree_promotion_rule_taxons" ("taxon_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_rule_taxons_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_rule_taxons_on_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_promotion_rules_on_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_taxons_promotion_rules_on_taxon_id"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_promotion_rules_users" RENAME TO "spree_promotion_rule_users"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_properties_prototypes" RENAME TO "spree_property_prototypes"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_properties_prototypes_on_prototype_and_property' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_properties_prototypes_on_prototype_and_property' AND type='index'

  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_taxons_prototypes" RENAME TO "spree_prototype_taxons"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_prototype_taxons_on_prototype_id_and_taxon_id" ON "spree_prototype_taxons" ("prototype_id", "taxon_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_prototype_id_and_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_spree_taxons_prototypes_on_prototype_id_and_taxon_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_prototype_taxons_on_taxon_id" ON "spree_prototype_taxons" ("taxon_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prototype_taxons_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prototype_taxons_on_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_prototypes_on_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_taxons_prototypes_on_taxon_id"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_roles_users" RENAME TO "spree_role_users"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_role_users_on_user_id" ON "spree_role_users" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_spree_roles_users_on_user_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_role_users_on_role_id" ON "spree_role_users" ("role_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_role_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_users_on_role_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_spree_roles_users_on_role_id"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_shipping_methods_zones" RENAME TO "spree_shipping_method_zones"[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093955"]]
  [1m[36m (9.2ms)[0m  [1mcommit transaction[0m
Migrating to SpreeStoreCreditTypes (20180305093956)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::StoreCreditType Load (0.2ms)[0m  [1mSELECT  "spree_store_credit_types".* FROM "spree_store_credit_types" WHERE "spree_store_credit_types"."name" = ? AND "spree_store_credit_types"."priority" = ? LIMIT 1[0m  [["name", "Expiring"], ["priority", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spree_store_credit_types" ("name", "priority", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Expiring"], ["priority", 1], ["created_at", "2018-03-05 09:37:50.946637"], ["updated_at", "2018-03-05 09:37:50.946637"]]
  [1m[36mSpree::StoreCreditType Load (0.0ms)[0m  [1mSELECT  "spree_store_credit_types".* FROM "spree_store_credit_types" WHERE "spree_store_credit_types"."name" = ? AND "spree_store_credit_types"."priority" = ? LIMIT 1[0m  [["name", "Non-expiring"], ["priority", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spree_store_credit_types" ("name", "priority", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Non-expiring"], ["priority", 2], ["created_at", "2018-03-05 09:37:50.949153"], ["updated_at", "2018-03-05 09:37:50.949153"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093956"]]
  [1m[35m (8.1ms)[0m  commit transaction
Migrating to AddDiscontinuedToProductsAndVariants (20180305093957)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "spree_products" ADD "discontinue_on" datetime
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_variants" ADD "discontinue_on" datetime[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_slug' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "index_spree_products_on_discontinue_on" ON "spree_products" ("discontinue_on")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_track_inventory' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_track_inventory' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_position' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_spree_variants_on_discontinue_on" ON "spree_variants" ("discontinue_on")
  [1m[36mSpree::Product Load (0.2ms)[0m  [1mSELECT "spree_products".* FROM "spree_products" WHERE ("spree_products"."deleted_at" IS NOT NULL)[0m
  [1m[35mSpree::Variant Load (0.2ms)[0m  SELECT "spree_variants".* FROM "spree_variants" WHERE ("spree_variants"."deleted_at" IS NOT NULL)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093957"]]
  [1m[35m (12.9ms)[0m  commit transaction
Migrating to RemoveShippingMethodIdFromSpreeOrders (20180305093958)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(32), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT '0.0', "shipping_method_id" integer, "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar, "created_by_id" integer, "shipment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "channel" varchar DEFAULT 'spree', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "item_count" integer DEFAULT 0, "approver_id" integer, "approved_at" datetime, "confirmation_delivered" boolean DEFAULT 'f', "considered_risky" boolean DEFAULT 'f', "guest_token" varchar, "canceled_at" datetime, "canceler_id" integer, "store_id" integer, "state_lock_version" integer DEFAULT 0 NOT NULL, "taxable_adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "non_taxable_adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_store_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_store_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_shipping_method_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_store_id" ON "aspree_orders" ("store_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_canceler_id" ON "aspree_orders" ("canceler_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_guest_token" ON "aspree_orders" ("guest_token")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_user_id_and_created_by_id" ON "aspree_orders" ("user_id", "created_by_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_shipping_method_id" ON "aspree_orders" ("shipping_method_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_ship_address_id" ON "aspree_orders" ("ship_address_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_created_by_id" ON "aspree_orders" ("created_by_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_considered_risky" ON "aspree_orders" ("considered_risky")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_confirmation_delivered" ON "aspree_orders" ("confirmation_delivered")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_bill_address_id" ON "aspree_orders" ("bill_address_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_approver_id" ON "aspree_orders" ("approver_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_orders_on_completed_at" ON "aspree_orders" ("completed_at")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "spree_orders"[0m
  [1m[35m (0.8ms)[0m  DROP TABLE "spree_orders"
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(32), "item_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "total" decimal(10,2) DEFAULT '0.0' NOT NULL, "state" varchar, "adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT '0.0', "shipment_state" varchar, "payment_state" varchar, "email" varchar, "special_instructions" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar, "last_ip_address" varchar, "created_by_id" integer, "shipment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "additional_tax_total" decimal(10,2) DEFAULT '0.0', "promo_total" decimal(10,2) DEFAULT '0.0', "channel" varchar DEFAULT 'spree', "included_tax_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "item_count" integer DEFAULT 0, "approver_id" integer, "approved_at" datetime, "confirmation_delivered" boolean DEFAULT 'f', "considered_risky" boolean DEFAULT 'f', "guest_token" varchar, "canceled_at" datetime, "canceler_id" integer, "store_id" integer, "state_lock_version" integer DEFAULT 0 NOT NULL, "taxable_adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL, "non_taxable_adjustment_total" decimal(10,2) DEFAULT '0.0' NOT NULL) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_number' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_shipping_method_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_user_id_and_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_guest_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_canceler_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_canceler_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_orders_on_store_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_orders_on_store_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_completed_at" ON "spree_orders" ("completed_at")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_approver_id" ON "spree_orders" ("approver_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_bill_address_id" ON "spree_orders" ("bill_address_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_confirmation_delivered" ON "spree_orders" ("confirmation_delivered")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_considered_risky" ON "spree_orders" ("considered_risky")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_created_by_id" ON "spree_orders" ("created_by_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_ship_address_id" ON "spree_orders" ("ship_address_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_user_id_and_created_by_id" ON "spree_orders" ("user_id", "created_by_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_orders_on_guest_token" ON "spree_orders" ("guest_token")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_canceler_id" ON "spree_orders" ("canceler_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_orders_on_store_id" ON "spree_orders" ("store_id")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "aspree_orders"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "aspree_orders"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093958"]]
  [1m[35m (8.2ms)[0m  commit transaction
Migrating to AddIdColumnToEarlierHabtmTables (20180305093959)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_option_type_prototypes" ("prototype_id" integer, "option_type_id" integer) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_type_prototypes_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_type_prototypes_on_option_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_option_type_prototypes_on_option_type_id" ON "aspree_option_type_prototypes" ("option_type_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_option_types_prototypes_on_prototype_and_option_type" ON "aspree_option_type_prototypes" ("prototype_id", "option_type_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_option_type_prototypes"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_option_type_prototypes"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_option_type_prototypes" ("prototype_id" integer, "option_type_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_option_types_prototypes_on_prototype_and_option_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_option_type_prototypes_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_option_type_prototypes_on_option_type_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_option_types_prototypes_on_prototype_and_option_type" ON "spree_option_type_prototypes" ("prototype_id", "option_type_id")
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_option_type_prototypes_on_option_type_id" ON "spree_option_type_prototypes" ("option_type_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_option_type_prototypes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_option_type_prototypes"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_option_value_variants" ("variant_id" integer, "option_value_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_value_variants_on_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_value_variants_on_option_value_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_option_value_variants_on_option_value_id" ON "aspree_option_value_variants" ("option_value_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_option_values_variants_on_variant_id_and_option_value_id" ON "aspree_option_value_variants" ("variant_id", "option_value_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_option_value_variants"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_option_value_variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_option_value_variants" ("variant_id" integer, "option_value_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_option_value_variants_on_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_option_value_variants_on_option_value_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_option_values_variants_on_variant_id_and_option_value_id" ON "spree_option_value_variants" ("variant_id", "option_value_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'

  [1m[36m (0.4ms)[0m  [1mCREATE  INDEX "index_spree_option_value_variants_on_option_value_id" ON "spree_option_value_variants" ("option_value_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_option_value_variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_option_value_variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aspree_order_promotions" ("order_id" integer, "promotion_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_promotion_id_and_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_order_promotions_on_promotion_id_and_order_id" ON "aspree_order_promotions" ("promotion_id", "order_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_order_promotions_on_order_id" ON "aspree_order_promotions" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_order_promotions"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_order_promotions"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_order_promotions" ("order_id" integer, "promotion_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_order_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_order_promotions_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_order_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_order_promotions_on_promotion_id_and_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_order_promotions_on_order_id" ON "spree_order_promotions" ("order_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_order_promotions_on_promotion_id_and_order_id" ON "spree_order_promotions" ("promotion_id", "order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_order_promotions"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_order_promotions"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_product_promotion_rules" ("product_id" integer, "promotion_rule_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_and_product' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_and_product' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_products_promotion_rules_on_promotion_rule_and_product" ON "aspree_product_promotion_rules" ("promotion_rule_id", "product_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_products_promotion_rules_on_product_id" ON "aspree_product_promotion_rules" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_product_promotion_rules"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_product_promotion_rules"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_product_promotion_rules" ("product_id" integer, "promotion_rule_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_products_promotion_rules_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_products_promotion_rules_on_promotion_rule_and_product' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_products_promotion_rules_on_promotion_rule_and_product' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_products_promotion_rules_on_product_id" ON "spree_product_promotion_rules" ("product_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_products_promotion_rules_on_promotion_rule_and_product" ON "spree_product_promotion_rules" ("promotion_rule_id", "product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_product_promotion_rules"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_product_promotion_rules"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aspree_promotion_rule_users" ("user_id" integer, "promotion_rule_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_promotion_rules_users_on_user_id_and_promotion_rule_id" ON "aspree_promotion_rule_users" ("user_id", "promotion_rule_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_promotion_rules_users_on_promotion_rule_id" ON "aspree_promotion_rule_users" ("promotion_rule_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_promotion_rule_users"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_promotion_rule_users"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_promotion_rule_users" ("user_id" integer, "promotion_rule_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_promotion_rules_users_on_promotion_rule_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_promotion_rules_users_on_promotion_rule_id" ON "spree_promotion_rule_users" ("promotion_rule_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_promotion_rules_users_on_user_id_and_promotion_rule_id" ON "spree_promotion_rule_users" ("user_id", "promotion_rule_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_promotion_rule_users"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_promotion_rule_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_property_prototypes" ("prototype_id" integer, "property_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_properties_prototypes_on_prototype_and_property' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_properties_prototypes_on_prototype_and_property' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_properties_prototypes_on_prototype_and_property" ON "aspree_property_prototypes" ("prototype_id", "property_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_property_prototypes"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_property_prototypes"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_property_prototypes" ("prototype_id" integer, "property_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_properties_prototypes_on_prototype_and_property' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_properties_prototypes_on_prototype_and_property' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_properties_prototypes_on_prototype_and_property" ON "spree_property_prototypes" ("prototype_id", "property_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_property_prototypes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_property_prototypes"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_role_users" ("role_id" integer, "user_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_role_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_aspree_role_users_on_role_id" ON "aspree_role_users" ("role_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_role_users_on_user_id" ON "aspree_role_users" ("user_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_role_users"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_role_users"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_role_users" ("role_id" integer, "user_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_role_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_role_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_role_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_role_users_on_role_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_role_users_on_user_id" ON "spree_role_users" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_role_users_on_role_id" ON "spree_role_users" ("role_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_role_users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_role_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aspree_shipping_method_zones" ("shipping_method_id" integer, "zone_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipping_method_zones"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_shipping_method_zones"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_method_zones" ("shipping_method_id" integer, "zone_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipping_method_zones"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_shipping_method_zones"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093959"]]
  [1m[36m (9.8ms)[0m  [1mcommit transaction[0m
Migrating to AddIndexes (20180305093960)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_assets_on_viewable_type_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_assets_on_viewable_type_and_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_assets_on_viewable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_assets_on_viewable_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_assets_on_position" ON "spree_assets" ("position")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_on_position' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_option_types_on_name" ON "spree_option_types" ("name")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_on_position' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_on_option_type_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_option_values_on_name" ON "spree_option_values" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_prices_on_variant_id" ON "spree_prices" ("variant_id")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_properties_on_name" ON "spree_properties" ("name")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_roles_on_name" ON "spree_roles" ("name")[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_shipping_categories_on_name" ON "spree_shipping_categories" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_position' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_parent_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxons_on_lft" ON "spree_taxons" ("lft")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_lft' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_lft' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_position' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_permalink' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_parent_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_taxons_on_rgt" ON "spree_taxons" ("rgt")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_rgt' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_rgt' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_lft' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_lft' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_position' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_taxons_on_name" ON "spree_taxons" ("name")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093960"]]
  [1m[35m (11.7ms)[0m  commit transaction
Migrating to CreateUsers (20180305093961)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093961"]]
  [1m[36m (8.5ms)[0m  [1mcommit transaction[0m
Migrating to RenameColumnsForDevise (20180305093962)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093962"]]
  [1m[35m (10.1ms)[0m  commit transaction
Migrating to ConvertUserRememberField (20180305093963)
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar, "remember_token" varchar, "persistence_token" varchar, "reset_password_token" varchar, "perishable_token" varchar, "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "login" varchar, "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar, "unlock_token" varchar, "locked_at" datetime, "remember_created_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_users"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_users"
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar, "remember_token" varchar, "persistence_token" varchar, "reset_password_token" varchar, "perishable_token" varchar, "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "login" varchar, "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar, "unlock_token" varchar, "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_users"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_users" ADD "remember_created_at" datetime
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093963"]]
  [1m[35m (8.0ms)[0m  commit transaction
Migrating to AddResetPasswordSentAtToSpreeUsers (20180305093964)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093964"]]
  [1m[36m (8.5ms)[0m  [1mcommit transaction[0m
Migrating to MakeUsersEmailIndexUnique (20180305093965)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "email_idx_unique" ON "spree_users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093965"]]
  [1m[36m (10.2ms)[0m  [1mcommit transaction[0m
Migrating to AddDeletedAtToUsers (20180305093966)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_users" ADD "deleted_at" datetime[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_users_on_deleted_at" ON "spree_users" ("deleted_at")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093966"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
Migrating to AddConfirmableToUsers (20180305093967)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_users" ADD "confirmation_token" varchar[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_users" ADD "confirmed_at" datetime
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_users" ADD "confirmation_sent_at" datetime[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093967"]]
  [1m[36m (11.3ms)[0m  [1mcommit transaction[0m
Migrating to AddMissingIndicesOnUser (20180305093968)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_spree_users_on_bill_address_id" ON "spree_users" ("bill_address_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_users_on_ship_address_id" ON "spree_users" ("ship_address_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093968"]]
  [1m[35m (10.6ms)[0m  commit transaction
Migrating to InstallSpreeWholesale (20180305093969)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "spree_wholesalers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "billing_address_id" integer, "shipping_address_id" integer, "company" varchar, "buyer_contact" varchar, "manager_contact" varchar, "phone" varchar, "fax" varchar, "resale_number" varchar, "taxid" varchar, "web_address" varchar, "terms" varchar, "alternate_email" varchar, "notes" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "wholesalers_addresses" ON "spree_wholesalers" ("billing_address_id", "shipping_address_id")[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_orders" ADD "wholesale" boolean DEFAULT 'f'
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_variants" ADD "wholesale_price" decimal(8,2) DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093969"]]
  [1m[36m (10.4ms)[0m  [1mcommit transaction[0m
Migrating to AddApiKeyToSpreeUsers (20180305093970)
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "spree_users" ADD "api_key" varchar(40)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093970"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
Migrating to ResizeApiKeyField (20180305093971)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar, "remember_token" varchar, "persistence_token" varchar, "reset_password_token" varchar, "perishable_token" varchar, "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "login" varchar, "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar, "unlock_token" varchar, "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "remember_created_at" datetime, "deleted_at" datetime, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "api_key" varchar(40)) [0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_users_on_ship_address_id" ON "aspree_users" ("ship_address_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_users_on_bill_address_id" ON "aspree_users" ("bill_address_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_users_on_deleted_at" ON "aspree_users" ("deleted_at")
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "temail_idx_unique" ON "aspree_users" ("email")[0m
  [1m[35m (0.3ms)[0m  SELECT * FROM "spree_users"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_users"[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar, "remember_token" varchar, "persistence_token" varchar, "reset_password_token" varchar, "perishable_token" varchar, "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "login" varchar, "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar, "unlock_token" varchar, "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "remember_created_at" datetime, "deleted_at" datetime, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "api_key" varchar(48)) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='temail_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='temail_idx_unique' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_users_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_users_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_users_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_users_on_ship_address_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "email_idx_unique" ON "spree_users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_users_on_deleted_at" ON "spree_users" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_users_on_bill_address_id" ON "spree_users" ("bill_address_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_users_on_ship_address_id" ON "spree_users" ("ship_address_id")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "aspree_users"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "aspree_users"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180305093971"]]
  [1m[35m (13.0ms)[0m  commit transaction
Migrating to RenameApiKeyToSpreeApiKey (20180305093972)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar, "remember_token" varchar, "persistence_token" varchar, "reset_password_token" varchar, "perishable_token" varchar, "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "login" varchar, "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar, "unlock_token" varchar, "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "remember_created_at" datetime, "deleted_at" datetime, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "spree_api_key" varchar(48)) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aspree_users_on_ship_address_id" ON "aspree_users" ("ship_address_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aspree_users_on_bill_address_id" ON "aspree_users" ("bill_address_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aspree_users_on_deleted_at" ON "aspree_users" ("deleted_at")[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "temail_idx_unique" ON "aspree_users" ("email")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "spree_users"[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spree_users"
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar, "remember_token" varchar, "persistence_token" varchar, "reset_password_token" varchar, "perishable_token" varchar, "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "login" varchar, "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar, "unlock_token" varchar, "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "remember_created_at" datetime, "deleted_at" datetime, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "spree_api_key" varchar(48)) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='temail_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='temail_idx_unique' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_users_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_users_on_bill_address_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aspree_users_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aspree_users_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "email_idx_unique" ON "spree_users" ("email")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_spree_users_on_deleted_at" ON "spree_users" ("deleted_at")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_spree_users_on_bill_address_id" ON "spree_users" ("bill_address_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX "index_spree_users_on_ship_address_id" ON "spree_users" ("ship_address_id")[0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "aspree_users"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "aspree_users"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'

  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'
[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093972"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Migrating to AddIndexToUserSpreeApiKey (20180305093973)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'

  [1m[36m (0.4ms)[0m  [1mCREATE  INDEX "index_spree_users_on_spree_api_key" ON "spree_users" ("spree_api_key")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180305093973"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_sluggable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_sluggable_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_slug_and_sluggable_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendly_id_slugs_on_sluggable_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_addresses_on_state_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_addresses_on_state_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_addresses_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_addresses_on_country_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_lastname' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_lastname' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_firstname' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_firstname' AND type='index'
[0m
  [1m[35m (0.6ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_source_id_and_source_type' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_order_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_eligible' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_adjustments_on_adjustable_id_and_adjustable_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_assets_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_assets_on_position' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_assets_on_viewable_type_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_assets_on_viewable_type_and_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_assets_on_viewable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_assets_on_viewable_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_calculators_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_calculators_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_calculators_on_calculable_id_and_calculable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_calculators_on_calculable_id_and_calculable_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_calculators_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_calculators_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_address_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_payment_method_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_credit_cards_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_gateways_on_test_mode' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_gateways_on_test_mode' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_gateways_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_gateways_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_inventory_units_on_line_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_inventory_units_on_line_item_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_variant_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_shipment_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventory_units_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_variant_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_log_entries_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_log_entries_on_source_id_and_source_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_type_prototypes_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_type_prototypes_on_option_type_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_types_prototypes_on_prototype_and_option_type' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_on_name' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_types_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_types_on_position' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_value_variants_on_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_value_variants_on_option_value_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_option_values_variants_on_variant_id_and_option_value_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_on_name' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_on_position' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_option_values_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_option_values_on_option_type_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_promotion_id_and_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_promotion_id_and_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_order_promotions_on_order_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_store_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_store_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_canceler_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_guest_token' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_user_id_and_created_by_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_ship_address_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_created_by_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_considered_risky' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_confirmation_delivered' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_bill_address_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_approver_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_completed_at' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_orders_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_orders_on_number' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payment_capture_events_on_payment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payment_capture_events_on_payment_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payment_methods_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payment_methods_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_number' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_source_id_and_source_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_payment_method_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_payments_on_order_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_preferences_on_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_preferences_on_key' AND type='index'

  [1m[36m (0.7ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_variant_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prices_on_variant_id_and_currency' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_option_types_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_option_types_on_position' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_option_types_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_option_types_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_option_types_on_option_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_option_types_on_option_type_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_and_product' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_promotion_rule_and_product' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_promotion_rules_on_product_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_properties_on_property_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_properties_on_property_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_product_properties_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_product_properties_on_position' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_product_properties_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_product_properties_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_discontinue_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_discontinue_on' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_slug' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_tax_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_shipping_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_on_available_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_on_available_on' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_position' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_taxon_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_products_taxons_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_action_line_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_action_line_items_on_variant_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_action_line_items_on_promotion_action_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_action_line_items_on_promotion_action_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_actions_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_actions_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_actions_on_promotion_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_actions_on_promotion_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_actions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_actions_on_id_and_type' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_rule_taxons_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_rule_taxons_on_taxon_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_rule_taxons_on_promotion_rule_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_user_id_and_promotion_rule_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_users_on_promotion_rule_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotion_rules_on_promotion_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotion_rules_on_promotion_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_promotion_rules_on_product_group_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_promotion_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_promotion_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_advertise' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_advertise' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_starts_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_starts_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_expires_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_expires_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_code' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_promotions_on_id_and_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_properties_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_properties_on_name' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_properties_prototypes_on_prototype_and_property' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_properties_prototypes_on_prototype_and_property' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prototype_taxons_on_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prototype_taxons_on_taxon_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_prototype_taxons_on_prototype_id_and_taxon_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_refunds_on_refund_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_refunds_on_refund_reason_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_reimbursement_types_on_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_reimbursement_types_on_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_reimbursements_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_reimbursements_on_order_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_reimbursements_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_reimbursements_on_customer_return_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_return_authorizations_on_return_authorization_reason_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_return_authorizations_on_return_authorization_reason_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_return_items_on_exchange_inventory_unit_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_return_items_on_exchange_inventory_unit_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_return_items_on_customer_return_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_role_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_role_users_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_roles_on_name' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_stock_location_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipments_on_order_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_shipments_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_shipments_on_number' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_categories_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_categories_on_name' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='unique_spree_shipping_method_categories' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='unique_spree_shipping_method_categories' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_method_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_method_categories_on_shipping_method_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_methods_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_methods_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_methods_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_methods_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_rates_on_tax_rate_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_rates_on_tax_rate_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_shipping_rates_on_selected' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_shipping_rates_on_selected' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='spree_shipping_rates_join_index' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='spree_shipping_rates_join_index' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_state_changes_on_stateful_id_and_stateful_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_state_changes_on_stateful_id_and_stateful_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_states_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_states_on_country_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_variant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_variant_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_backorderable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_backorderable' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_items_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='stock_item_by_loc_and_var_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_state_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_state_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_propagate_all_variants' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_propagate_all_variants' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_country_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_country_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_backorderable_default' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_backorderable_default' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_locations_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_movements_on_stock_item_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_destination_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_destination_location_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_source_location_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_source_location_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stock_transfers_on_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stock_transfers_on_number' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='spree_store_credit_events_originator' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='spree_store_credit_events_originator' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credit_events_on_store_credit_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credit_events_on_store_credit_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credit_types_on_priority' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credit_types_on_priority' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='spree_store_credits_originator' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='spree_store_credits_originator' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_store_credits_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_store_credits_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stores_on_url' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stores_on_url' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stores_on_default' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stores_on_default' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_stores_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_stores_on_code' AND type='index'

  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_categories_on_is_default' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_categories_on_is_default' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_categories_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_categories_on_deleted_at' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_zone_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_zone_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_tax_category_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_show_rate_in_label' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_show_rate_in_label' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_included_in_price' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_included_in_price' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_tax_rates_on_deleted_at' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxonomies_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxonomies_on_position' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_rgt' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_rgt' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_lft' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_lft' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_taxons_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_taxons_on_position' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_taxonomy_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_permalink' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_permalink' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taxons_on_parent_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_trackers_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_trackers_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_spree_api_key' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_spree_api_key' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_ship_address_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_bill_address_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_users_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='email_idx_unique' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='email_idx_unique' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_discontinue_on' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_discontinue_on' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_track_inventory' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_track_inventory' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_position' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_position' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_is_master' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_deleted_at' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_tax_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_sku' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_sku' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_variants_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='wholesalers_addresses' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='wholesalers_addresses' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_zone_members_on_zoneable_id_and_zoneable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_zone_members_on_zoneable_id_and_zoneable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_zone_members_on_zone_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_zone_members_on_zone_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_zones_on_kind' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_zones_on_kind' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_spree_zones_on_default_tax' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_spree_zones_on_default_tax' AND type='index'

  [1m[36mSpree::Preference Load (0.2ms)[0m  [1mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = ? LIMIT 1[0m  [["key", "spree/app_configuration/admin_path"]]
  [1m[35mSpree::Preference Load (0.2ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = ? LIMIT 1  [["key", "spree/auth_configuration/confirmable"]]
